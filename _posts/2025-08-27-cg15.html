<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>计算机图形学15:实体建模</title>
    <link rel="stylesheet" href="../style.css">
    <script>
      MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          displayMath: [['$$', '$$'], ['\\[', '\\]']]
        },
        svg: {
          fontCache: 'global'
        }
      };
    </script>
    <script type="text/javascript" id="MathJax-script" async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
    </script>
</head>
<body>
    <audio id="bg-music" src="../music.mp3" loop></audio>
    <button id="music-toggle" class="music-control">♪</button>
    <header>
        <h1>forliage的blog</h1>
        <nav>
            <ul>
                <li><a href="../index.html">首页</a></li>
                <li><a href="../posts.html">文章</a></li>
                <li><a href="../about.html">关于</a></li>
                <li><a href="../category.html?category=技术文章">技术文章</a></li>
                <li><a href="../category.html?category=生活随笔">生活随笔</a></li>
                <li><a href="../category.html?category=学习笔记">学习笔记</a></li>
                <li><a href="../category.html?category=心情日记">心情日记</a></li>
            </ul>
        </nav>
    </header>
    <div class="container">
        <div id="sidebar-container"></div>
        <main>
            <article>
                <h1 id="%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A615%E5%AE%9E%E4%BD%93%E5%BB%BA%E6%A8%A1">计算机图形学15:实体建模</h1>
                <h3 id="1-%E8%B6%85%E8%B6%8A%E8%A1%A8%E9%9D%A2%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E5%AE%9E%E4%BD%93%E5%BB%BA%E6%A8%A1"><strong>1. 超越表面：为什么需要实体建模？</strong></h3>
                <p>传统的<strong>线框模型 (Wireframe Models)</strong> 和<strong>表面模型 (Surface Models)</strong> 在很多工程和制造任务中都存在致命的缺陷。</p>
                <ul>
                <li>
                <p><strong>线框模型的歧义性：</strong>
                一个线框模型只存储了物体（如立方体）的顶点和边，这会导致严重的视觉歧义（例如，无法判断一个面是朝前还是朝后），甚至可以表示物理上不可能存在的物体。</p>
                </li>
                <li>
                <p><strong>表面模型的局限性：</strong>
                虽然多边形网格等表面模型解决了歧义性问题，并且足以进行视觉渲染，但它仍然是一个“空心壳”。对于许多关键的工程应用，表面模型力不从心：</p>
                <ul>
                <li><strong>物理属性计算：</strong> 无法直接计算物体的质量、体积、重心、转动惯量。</li>
                <li><strong>干涉检查：</strong> 难以可靠地判断两个物体是否发生碰撞或穿插。</li>
                <li><strong>数控编程 (NC Machining):</strong> 无法为机床提供从毛坯上“切掉”哪些材料的信息。</li>
                <li><strong>有效性验证：</strong> 一个由面片随意拼接的表面模型，不一定能构成一个物理上可实现的、“水密”的实体。</li>
                </ul>
                </li>
                </ul>
                <p>为了克服这些局限，<strong>实体建模</strong>应运而生。它的目标是提供一种<strong>信息完整、无歧义</strong>的物体三维表示方法。</p>
                <h3 id="2-%E4%BB%80%E4%B9%88%E6%98%AF%E5%AE%9E%E4%BD%93-solid"><strong>2. 什么是“实体 (Solid)”？</strong></h3>
                <p>在进入具体的建模方法之前，我们必须对“实体”这个概念有一个严格的定义。一个有效的实体模型应该满足以下几个基本属性：</p>
                <ul>
                <li><strong>有界性 (Finite):</strong> 物体在空间中占据有限的范围。</li>
                <li><strong>三维同质性:</strong> 物体内部是“满”的，没有悬空的维度。</li>
                <li><strong>刚性 (Rigid):</strong> 物体不会随意变形。</li>
                <li><strong>边界清晰:</strong> 能够明确区分物体的内部、外部和边界。</li>
                <li><strong>布尔运算封闭:</strong> 对两个实体进行并、交、差运算后，结果仍然是一个有效的实体。</li>
                </ul>
                <h3 id="3-%E5%AE%9E%E4%BD%93%E5%BB%BA%E6%A8%A1%E7%9A%84%E4%B8%89%E5%A4%A7%E4%B8%BB%E6%B5%81%E6%96%B9%E6%B3%95"><strong>3. 实体建模的三大主流方法</strong></h3>
                <p>表示一个实体主要有三种核心的思路：<strong>分解法 (Decomposition)</strong>、<strong>构造法 (Constructive)</strong> 和 <strong>边界法 (Boundary)</strong>。</p>
                <h4 id="31-%E5%88%86%E8%A7%A3%E6%B3%95%E7%A9%BA%E9%97%B4%E5%89%96%E5%88%86%E8%A1%A8%E7%A4%BA-spatial-partitioning"><strong>3.1 分解法：空间剖分表示 (Spatial Partitioning)</strong></h4>
                <p>这种方法通过将物体所在的三维空间分解为一系列小的、不重叠的单元格来表示实体。一个单元格的状态可以是**“完全在物体内部”、“完全在外部”或“部分在内部”**。</p>
                <ul>
                <li>
                <p><strong>体素表示 (Voxel Representation / Spatial Occupancy Enumeration):</strong></p>
                <ul>
                <li><strong>思想：</strong> 将空间划分为一个规则的、三维的像素网格（体素网格）。实体被表示为所有“内部”体素的集合。</li>
                <li><strong>优点：</strong> 算法简单，布尔运算容易实现。</li>
                <li><strong>缺点：</strong> 存储开销巨大，且只能近似表示曲面。</li>
                <li><strong>应用：</strong> 医学成像（如CT、MRI扫描结果）、科学计算可视化。</li>
                </ul>
                </li>
                <li>
                <p><strong>八叉树 (Octrees):</strong></p>
                <ul>
                <li><strong>思想：</strong> 体素表示的一种<strong>层级化、自适应</strong>的优化。它从一个包含整个物体的巨大立方体开始，进行递归的八分（Octal）剖分。
                <ul>
                <li>如果一个立方体单元完全在物体内部（<strong>全满</strong>）或完全在外部（<strong>全空</strong>），则停止剖分，该单元成为叶节点。</li>
                <li>如果一个立方体单元与物体边界相交（<strong>部分</strong>），则将其等分为8个子立方体，并对每个子立方体递归执行此过程。</li>
                </ul>
                </li>
                <li><strong>优点：</strong> 相比于固定分辨率的体素，极大地减少了存储需求，尤其是在表示大块均匀区域时。</li>
                <li><strong>缺点：</strong> 仍然是近似表示，且数据结构相对复杂。</li>
                </ul>
                </li>
                </ul>
                <h4 id="32-%E6%9E%84%E9%80%A0%E6%B3%95%E6%9E%84%E9%80%A0%E5%AE%9E%E4%BD%93%E5%87%A0%E4%BD%95-constructive-solid-geometry---csg"><strong>3.2 构造法：构造实体几何 (Constructive Solid Geometry - CSG)</strong></h4>
                <p>CSG是一种功能强大且非常符合设计直觉的建模方法。</p>
                <ul>
                <li><strong>思想：</strong> 从一组简单的<strong>基本几何体 (Primitives)</strong>（如长方体、圆柱体、球体、圆锥体）开始，通过<strong>正则化的布尔运算 (Regularized Boolean Operations)</strong>（并 Union, 交 Intersection, 差 Difference）来像搭积木一样构造出复杂的物体。</li>
                <li><strong>数据结构：</strong> CSG模型通常被存储为一棵<strong>二叉树</strong>，即<strong>CSG树</strong>。
                <ul>
                <li><strong>叶节点 (Leaf Nodes):</strong> 基本几何体。</li>
                <li><strong>内部节点 (Internal Nodes):</strong> 布尔运算（U, ∩, -）或几何变换（平移、旋转、缩放）。</li>
                </ul>
                </li>
                <li><strong>优点：</strong>
                <ul>
                <li><strong>数据量小、结构紧凑：</strong> 只需存储树的结构和基本体的参数。</li>
                <li><strong>保证有效性：</strong> 只要基本体是有效的实体，通过正则化布尔运算得到的结果也必然是有效的实体。</li>
                <li><strong>参数化与修改方便：</strong> 修改模型通常只需要改变树中某个节点的参数即可。</li>
                </ul>
                </li>
                <li><strong>缺点：</strong>
                <ul>
                <li><strong>非唯一性：</strong> 同一个复杂物体可以由不同的CSG树构造出来。</li>
                <li><strong>边界计算困难：</strong> 直接从CSG树中获取物体的边界信息（如边和面）非常困难，需要执行昂贵的“边界求值”算法。这使得直接渲染CSG模型很慢，通常需要先将其转换为边界表示。</li>
                </ul>
                </li>
                <li><strong>应用：</strong> 工业设计、机械CAD、参数化建模。</li>
                </ul>
                <h4 id="33-%E8%BE%B9%E7%95%8C%E8%A1%A8%E7%A4%BA%E6%B3%95-boundary-representation---b-rep"><strong>3.3 边界表示法 (Boundary Representation - B-rep)</strong></h4>
                <p>B-rep是目前CAD/CAM和大多数图形应用中<strong>最主流</strong>的实体表示方法。</p>
                <ul>
                <li><strong>思想：</strong> 不关心物体的内部，而是通过<strong>完整地、无歧义地</strong>描述物体的<strong>边界</strong>来定义实体。它将物体的边界分解为一组拓扑实体：<strong>面 (Faces)</strong>、<strong>边 (Edges)</strong> 和 <strong>顶点 (Vertices)</strong>。</li>
                <li><strong>数据结构：</strong> B-rep模型同时存储两种信息：
                <ul>
                <li><strong>几何信息 (Geometry):</strong> 顶点的精确坐标，边的曲线方程，面的曲面方程。</li>
                <li><strong>拓扑信息 (Topology):</strong> 实体之间的<strong>邻接和连接关系</strong>。例如，哪个面拥有哪些边，哪条边连接了哪两个顶点，哪条边是哪两个面的公共边界等。常用的数据结构有<strong>翼边结构 (Winged-Edge)</strong> 等。</li>
                </ul>
                </li>
                <li><strong>有效性与流形 (Manifold):</strong> 一个有效的B-rep模型必须是<strong>二维流形 (2-Manifold)</strong>。通俗地讲，这意味着在物体表面的任意一点，其局部都像一个可被展平的二维圆盘。这保证了模型是“水密的”，没有悬空的边或面，每条边恰好被两个面共享。</li>
                <li><strong>欧拉公式 (Euler's Formula):</strong> 对于一个没有洞的简单多面体，其顶点数(V)、边数(E)和面数(F)必须满足欧拉公式：$V - E + F = 2$。这个公式（及其推广形式）是验证B-rep模型拓扑有效性的重要工具。<strong>欧拉操作 (Euler Operators)</strong> 是一组能够保证在创建和修改B-rep模型时始终维持其拓扑有效性的原子操作。</li>
                </ul>
                <p><strong>优点：</strong></p>
                <ul>
                <li><strong>边界信息明确：</strong> 非常适合直接渲染和进行边界相关的计算。</li>
                <li><strong>表达能力强：</strong> 可以精确地表示具有复杂自由曲面的物体。</li>
                <li><strong>易于直接操作：</strong> 方便用户进行交互式的特征编辑（如倒角、拉伸）。</li>
                </ul>
                <p><strong>缺点：</strong></p>
                <ul>
                <li><strong>数据结构复杂：</strong> 需要维护复杂的几何与拓扑关系。</li>
                <li><strong>有效性验证困难：</strong> 确保一个复杂的B-rep模型始终有效是一个巨大的挑战。</li>
                <li><strong>布尔运算不稳定：</strong> 对两个复杂的B-rep模型进行布尔运算时，由于浮点数精度问题，非常容易产生微小的缝隙或重叠，导致结果无效。</li>
                </ul>
                <h3 id="4-%E5%85%B6%E4%BB%96%E8%A1%A8%E7%A4%BA%E6%96%B9%E6%B3%95%E6%89%AB%E6%8F%8F%E8%A1%A8%E7%A4%BA-sweep-representations"><strong>4. 其他表示方法：扫描表示 (Sweep Representations)</strong></h3>
                <ul>
                <li><strong>思想：</strong> 通过将一个二维轮廓（或点、曲线）沿着一条路径<strong>扫描</strong>来生成三维实体。
                <ul>
                <li><strong>平移扫描 (Translational Sweep / Extrusion):</strong> 沿直线路径扫描。</li>
                <li><strong>旋转扫描 (Rotational Sweep / Revolution):</strong> 绕一根轴旋转扫描。</li>
                </ul>
                </li>
                <li><strong>特点：</strong> 这是一种强大的<strong>建模操作</strong>，而非一种独立的底层数据表示。通过扫描创建的物体，最终通常会被转换为CSG或B-rep格式进行存储。</li>
                </ul>
            </article>
        </main>
    </div>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script>
      mermaid.initialize({
        startOnLoad: true
      });
    </script>
    <script src="../script.js"></script>
</body>
</html>