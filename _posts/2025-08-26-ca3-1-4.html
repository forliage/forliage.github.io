<!DOCTYPE html>

<html lang="zh-CN">
<head>
<meta charset="utf-8"/>
<title>计算机体系结构3-1-4:硬件推测（Hardware Speculation）</title>
<link href="../style.css" rel="stylesheet"/>
<link href="../modal.css" rel="stylesheet"/>
<script>
      MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          displayMath: [['$$', '$$'], ['\\[', '\\]']]
        },
        svg: {
          fontCache: 'global'
        }
      };
    </script>
<script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js" type="text/javascript">
</script>
<!-- Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-FPDBQB4LZD"></script>
<script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-FPDBQB4LZD');
    </script>
<!-- Highlight.js Themes -->
<link href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/rose-pine-dawn.min.css" id="highlight-theme-link" rel="stylesheet"/>
<!-- Highlight.js Copy Plugin CSS -->
<link href="https://cdn.jsdelivr.net/npm/highlightjs-copy@1.0.6/dist/highlightjs-copy.min.css" rel="stylesheet"/>
</head>
<body>
<audio id="bg-music" loop="" src="../music.mp3"></audio>
<button class="music-control" id="music-toggle">♪</button><button class="dark-mode-control" id="dark-mode-toggle">🌙</button>
<header>
<h1>forliage的blog</h1>
<nav>
<ul>
<li><a href="../index.html">首页</a></li>
<li><a href="../posts.html">文章</a></li>
<li><a href="../about.html">关于</a></li>
<li><a href="../category.html?category=技术文章">技术文章</a></li>
<li><a href="../category.html?category=生活随笔">生活随笔</a></li>
<li><a href="../category.html?category=学习笔记">学习笔记</a></li>
<li><a href="../category.html?category=心情日记">心情日记</a></li>
<li><a href="#" id="about-me-btn">ABOUT ME</a></li>
</ul>
</nav>
</header>
<div class="container">
<div id="sidebar-container"></div>
<main>
<article>
<h1 id="%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%843-1-4%E7%A1%AC%E4%BB%B6%E6%8E%A8%E6%B5%8Bhardware-speculation">计算机体系结构3-1-4:硬件推测（Hardware Speculation）</h1>
<h3 id="%E7%AC%AC%E5%9B%9B%E8%8A%82%E7%A1%AC%E4%BB%B6%E6%8E%A8%E6%B5%8B">第四节：硬件推测</h3>
<p>硬件推测的核心思想非常直观，就像一位深思熟虑的将军在指挥战斗：</p>
<p><strong>“让先锋部队（指令）大胆地向前探索（乱序执行），去攻占据点（计算结果），但不要立即向总部汇报战果并改变整个战线的部署（修改架构状态）。所有战果都先记录在临时日志上。等到后方确认这条进攻路线是正确的（分支预测正确、无异常），我们再根据日志，按照原定的作战计划顺序，正式宣布这些战果（按序提交）。”</strong></p>
<p>这个策略将指令的执行过程分为了三个明确的阶段：</p>
<ol>
<li><strong>乱序执行 (Out-of-Order Execution)</strong>：指令可以像在 Tomasulo 中那样，一旦操作数就绪就执行。</li>
<li><strong>乱序写结果 (Out-of-Order Write Result)</strong>：执行完的结果被存放到一个<strong>临时的、安全的缓冲结构</strong>中，而不是直接写入最终的目的地（寄存器堆或内存）。</li>
<li><strong>按序提交 (In-Order Commit/Retirement)</strong>：系统会按照指令在<strong>原始程序中的顺序</strong>，逐一检查它们的执行结果。只有当一条指令和它之前的所有指令都被确认是正确的，它的结果才会被从临时缓冲中取出，<strong>永久性地写入</strong>架构状态（寄存器或内存）。</li>
</ol>
<p>这个设计完美地结合了乱序执行的高性能和按序执行的正确性保障。而实现这一宏伟蓝图的关键硬件部件，就是那位将军手中的“临时作战日志”——<strong>重排序缓冲（Reorder Buffer, ROB）</strong>。</p>
<h4 id="41-%E9%87%8D%E6%8E%92%E5%BA%8F%E7%BC%93%E5%86%B2-rob-%E7%9A%84%E8%AE%BE%E8%AE%A1">4.1 重排序缓冲 (ROB) 的设计</h4>
<p>ROB 是一个<strong>先进先出（FIFO）<strong>的循环队列，它位于 Tomasulo 核心和最终的架构状态（寄存器堆/内存）之间。当一条指令被</strong>发射（Issue）<strong>时，它不仅会进入保留站，还会在 ROB 的</strong>队尾</strong>被分配一个条目。这条指令将“拥有”这个条目，直到它最终被<strong>提交（Commit）</strong>。</p>
<p><img alt="figure 37" src="../images/imagea037.png"/></p>
<h4 id="411-rob-%E7%9A%84%E8%A7%92%E8%89%B2%E8%BD%AC%E5%8F%98">4.1.1 ROB 的角色转变</h4>
<p>ROB 的引入，深刻地改变了 Tomasulo 体系结构中各个部件的角色和数据流：</p>
<ol>
<li><strong>结果的目的地变了</strong>：当一个功能单元在 CDB 上广播结果时，这个结果的主要目的地<strong>不再是寄存器堆</strong>，而是<strong>ROB 中对应的条目</strong>。当然，保留站仍然会监听 CDB 以获取等待的操作数。</li>
<li><strong>操作数的来源多了</strong>：当一条指令在发射阶段查找源操作数时，它不仅要查寄存器状态表，如果发现操作数未就绪，它还要从 ROB 中获取（如果那个产生操作数的指令已经执行完但尚未提交）。因此，操作数的来源可以是<strong>寄存器堆</strong>或<strong>ROB</strong>。</li>
<li><strong>寄存器重命名的“后台”变了</strong>：在 Tomasulo 中，寄存器状态表（Qi 字段）指向保留站。在引入 ROB 后，它直接指向<strong>产生结果的指令在 ROB 中的条目号</strong>。ROB 成为了所有未提交结果的唯一、集中的“物理存储”。</li>
<li><strong>存储缓冲被“吸收”了</strong>：存储指令在提交之前不能修改内存。ROB 天然地提供了这种“暂存”能力。因此，独立的存储缓冲的功能可以被整合进 ROB。</li>
</ol>
<h4 id="412-rob-%E6%9D%A1%E7%9B%AE%E7%9A%84%E5%85%B3%E9%94%AE%E5%AD%97%E6%AE%B5">4.1.2 ROB 条目的关键字段</h4>
<p>ROB 的每个条目都需要记录足够的信息，来管理指令从执行到提交的整个过程。</p>
<ul>
<li><strong>Instruction Type (指令类型)</strong>：指明这是一条分支、存储、还是普通的寄存器操作（ALU/Load）。这决定了在提交阶段需要执行何种操作。</li>
<li><strong>Destination (目标)</strong>：
                <ul>
<li>对于寄存器操作，这里是<strong>目标寄存器的编号</strong>（如 F6）。</li>
<li>对于存储操作，这里是计算出的<strong>目标内存地址</strong>。</li>
</ul>
</li>
<li><strong>Value (值)</strong>：存放指令执行完成后的<strong>结果</strong>。</li>
<li><strong>Ready (就绪)</strong>：一个比特位，<code>1</code> 表示指令已经执行完毕，其 <code>Value</code> 字段是有效的。</li>
</ul>
<h4 id="42-%E7%BB%93%E5%90%88-rob-%E7%9A%84%E6%96%B0%E6%8C%87%E4%BB%A4%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">4.2 结合 ROB 的新指令生命周期</h4>
<p>引入 ROB 后，指令的生命周期扩展为四个阶段：</p>
<ol>
<li>
<p><strong>Issue (发射)</strong></p>
<ul>
<li><strong>条件</strong>：指令队列头部有指令，且有空闲的<strong>保留站</strong>和空闲的<strong>ROB 条目</strong>。</li>
<li><strong>动作</strong>：
                a.  在 ROB <strong>队尾</strong>为指令分配一个条目，记录其类型和目标寄存器。
                b.  将该 ROB 条目的索引号（ROB tag）作为重命名的标识。更新寄存器状态表，使其指向这个 ROB tag。
                c.  将指令发往保留站。在保留站中，不仅记录操作，还记录对应的 ROB tag。
                d.  从寄存器堆或 ROB 中查找源操作数，填入保留站的 V/Q 字段。</li>
</ul>
</li>
<li>
<p><strong>Execute (执行)</strong></p>
<ul>
<li><strong>条件</strong>：保留站的操作数就绪（V 字段有效）。</li>
<li><strong>动作</strong>：功能单元执行计算。这个阶段和 Tomasulo 基本一致。</li>
</ul>
</li>
<li>
<p><strong>Write Result (写结果)</strong></p>
<ul>
<li><strong>条件</strong>：执行完成。</li>
<li><strong>动作</strong>：
                a.  功能单元将<strong>结果</strong>和<strong>对应的 ROB tag</strong> 广播到 CDB。
                b.  ROB 监听到匹配的 tag，将结果写入相应条目的 <code>Value</code> 字段，并将其 <code>Ready</code> 位置 <code>1</code>。
                c.  其他正在等待这个结果的保留站，也从 CDB 获取数据。</li>
</ul>
</li>
<li>
<p><strong>Commit (提交)</strong></p>
<ul>
<li><strong>这是整个推测执行的核心</strong>，必须<strong>严格按序</strong>进行。</li>
<li><strong>条件</strong>：ROB <strong>队头</strong>的指令，其 <code>Ready</code> 位为 <code>1</code>。</li>
<li><strong>动作</strong>：
                <ul>
<li><strong>对于普通寄存器指令</strong>：将 <code>Value</code> 字段中的结果写入 <code>Destination</code> 字段指定的寄存器。</li>
<li><strong>对于存储指令</strong>：将 <code>Value</code>（要存储的数据）写入 <code>Destination</code>（内存地址）。</li>
<li><strong>对于正确预测的分支</strong>：什么都不做，因为它只是一个控制流标记。</li>
<li><strong>对于错误预测的分支</strong>：<strong>这是关键！</strong>
                i.  <strong>冲刷（Flush）</strong> 整个 ROB 和所有保留站。
                ii.  恢复寄存器映射表到分支指令执行前的状态。
                iii. 告诉取指单元从正确的分支目标地址重新开始取指。</li>
<li><strong>无论何种情况，只要提交完成（或被冲刷），就将该条目从 ROB 队头移除。</strong></li>
</ul>
</li>
</ul>
</li>
</ol>
<h4 id="43-%E5%AE%9E%E4%BE%8B%E8%AF%A6%E8%A7%A3rob-%E5%9C%A8%E8%A1%8C%E5%8A%A8">4.3 实例详解：ROB 在行动</h4>
<p>让我们用以下的例子来具体感受一下 ROB 是如何工作的。</p>
<div class="code-container">
<pre><code class="language-plaintext">L.D     f6, 32(x2)
L.D     f2, 44(x3)
fmul.d  f0, f2, f4
fsub.d  f8, f2, f6
fdiv.d  f0, f0, f6
fadd.d  f6, f8, f2
</code></pre>
</div>
<p><img alt="figure 38" src="../images/imagea038.png"/></p>
<p><strong>快照时刻设定</strong>：两条 <code>fld</code> 指令已经完成并<strong>提交</strong>。<code>fmul.d</code> 已经执行完，结果在 ROB 中，准备提交。<code>fsub.d</code> 也执行完了。<code>fdiv.d</code> 还在漫长的执行过程中。<code>fadd.d</code> 也执行完了。</p>
<p><strong>Reorder Buffer (ROB) 状态分析：</strong></p>
<ul>
<li><code>Entry 1, 2</code>：<code>Busy=No</code>。两条 <code>fld</code> 已经成功提交并从 ROB 队头移除。它们的 <code>Value</code> 已经永久写入了寄存器 F6 和 F2。</li>
<li><code>Entry 3</code> (<code>fmul.d</code>)：<strong>这是当前的 ROB 队头</strong>。
                <ul>
<li><code>State=Write result</code> (应理解为 <code>Ready=Yes</code>)，<code>Value</code> 字段里是 <code>#2 x Regs[f4]</code> 的结果。因为它在队头且已就绪，所以<strong>在下一个时钟周期，它就可以被提交</strong>。提交时，它的值会被写入寄存器 F0。</li>
</ul>
</li>
<li><code>Entry 4</code> (<code>fsub.d</code>)：<code>State=Write result</code>, <code>Ready=Yes</code>。它也执行完了，但它不是队头，必须等待 <code>fmul.d</code> 提交。</li>
<li><code>Entry 5</code> (<code>fdiv.d</code>)：<code>State=Execute</code>。由于除法延迟很长，它还在执行中，<code>Ready</code> 位为 <code>0</code>。</li>
<li><code>Entry 6</code> (<code>fadd.d</code>)：<code>State=Write result</code>, <code>Ready=Yes</code>。它虽然执行快，但也必须排在 <code>fdiv.d</code> 后面等待提交。</li>
</ul>
<p><strong>FP Register Status (Reorder #) 状态分析：</strong></p>
<p>这张表现在是“寄存器重命名表”，或者叫“别名表（Alias Table）”。</p>
<ul>
<li><code>f0 -&gt; 3</code>：当前对 F0 的最新引用，应该去 ROB 的第 3 号条目 (<code>fmul.d</code>) 找。等等，例子里是 <code>fdiv.d f0, f0, f6</code>，所以最新的 F0 应该是 <code>fdiv.d</code>，即 ROB #5。</li>
<li><code>f6 -&gt; 6</code>：最新版本的 F6 将由 ROB #6 (<code>fadd.d</code>) 产生。</li>
<li><code>f8 -&gt; 4</code>：最新版本的 F8 将由 ROB #4 (<code>fsub.d</code>) 产生。</li>
<li><code>f2</code>, <code>f4</code> 等寄存器没有指向 ROB 条目，说明它们的值是稳定的，可以直接从寄存器堆读取。</li>
</ul>
<p><strong>推演下一步的 Commit 过程：</strong></p>
<ol>
<li>
<p><strong>Clock N</strong>：ROB #3 (<code>fmul.d</code>) 在队头且 <code>Ready=1</code>。<strong>Commit!</strong></p>
<ul>
<li>将 ROB[3].Value 写入寄存器 F0。</li>
<li>更新寄存器状态表，如果 <code>RegisterStat[f0].Reorder # == 3</code>，则清空它。</li>
<li>ROB #3 出队。ROB #4 (<code>fsub.d</code>) 成为新的队头。</li>
</ul>
</li>
<li>
<p><strong>Clock N+1</strong>：ROB #4 (<code>fsub.d</code>) 在队头且 <code>Ready=1</code>。<strong>Commit!</strong></p>
<ul>
<li>将 ROB[4].Value 写入寄存器 F8。</li>
<li>更新寄存器状态表 <code>RegisterStat[f8]</code>。</li>
<li>ROB #4 出队。ROB #5 (<code>fdiv.d</code>) 成为新的队头。</li>
</ul>
</li>
<li>
<p><strong>Clock N+2</strong>：ROB #5 (<code>fdiv.d</code>) 在队头，但它的 <code>Ready</code> 位还是 <code>0</code>！它还在执行。</p>
<ul>
<li><strong>流水线停顿在提交阶段！</strong> 即使后面的 <code>fadd.d</code> (ROB #6) 早已准备就绪，它也必须等待 <code>fdiv.d</code> 完成。</li>
</ul>
</li>
</ol>
<p>这个例子清晰地展示了硬件推测是如何<strong>强制维持按序提交</strong>的，即使这会导致停顿。这是为<strong>精确异常（Precise Exceptions）<strong>和</strong>正确恢复</strong>付出的必要代价。如果 <code>fdiv.d</code> 在执行中发生了除零异常，由于它之前的指令都已经安全提交，而它和它之后的所有指令都还在 ROB 中，处理器可以简单地冲刷 ROB #5 及之后的所有条目，然后跳转到异常处理程序，状态非常干净。</p>
<h4 id="%E6%80%BB%E7%BB%93%E6%8E%A8%E6%B5%8B%E6%89%A7%E8%A1%8C%E7%9A%84%E4%BC%9F%E5%A4%A7%E5%B9%B3%E8%A1%A1">总结：推测执行的伟大平衡</h4>
<p>硬件推测与重排序缓冲（ROB）的结合，是现代高性能处理器设计的巅峰之作。它在 Tomasulo 算法的基础上，构建了一个近乎完美的动态调度框架：</p>
<ul>
<li><strong>性能</strong>：通过允许指令在分支解析和异常点确认前提早、乱序地执行，最大限度地隐藏了各种延迟，发掘了深层次的指令级并行。</li>
<li><strong>正确性</strong>：通过严格的按序提交机制，确保了无论内部执行顺序如何“混乱”，最终呈现给程序员的架构状态都与程序顺序完全一致，并保证了在发生分支预测失败或异常时，系统可以恢复到一个精确、无误的状态。</li>
</ul>
<p>它在“激进的乱序执行”和“保守的按序语义”之间，取得了一种精妙的平衡。从记分牌到 Tomasulo，再到硬件推测，我们看到了计算机体系结构如何一步步地从简单的流水线，演化成一个复杂的、分布式的、具备学习和预测能力的智能执行引擎。</p>
</article><div class="share-buttons">
<p>分享到：</p>
<a class="share-btn weibo" href="#" onclick="sharePost(event, 'weibo')">
<svg role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Sina Weibo</title><path d="M10.098 20.323c-3.977.391-7.414-1.406-7.672-4.02-.259-2.609 2.759-5.047 6.74-5.441 3.979-.394 7.413 1.404 7.671 4.018.259 2.6-2.759 5.049-6.737 5.439l-.002.004zM9.05 17.219c-.384.616-1.208.884-1.829.602-.612-.279-.793-.991-.406-1.593.379-.595 1.176-.861 1.793-.601.622.263.82.972.442 1.592zm1.27-1.627c-.141.237-.449.353-.689.253-.236-.09-.313-.361-.177-.586.138-.227.436-.346.672-.24.239.09.315.36.18.601l.014-.028zm.176-2.719c-1.893-.493-4.033.45-4.857 2.118-.836 1.704-.026 3.591 1.886 4.21 1.983.64 4.318-.341 5.132-2.179.8-1.793-.201-3.642-2.161-4.149zm7.563-1.224c-.346-.105-.57-.18-.405-.615.375-.977.42-1.804 0-2.404-.781-1.112-2.915-1.053-5.364-.03 0 0-.766.331-.571-.271.376-1.217.315-2.224-.27-2.809-1.338-1.337-4.869.045-7.888 3.08C1.309 10.87 0 13.273 0 15.348c0 3.981 5.099 6.395 10.086 6.395 6.536 0 10.888-3.801 10.888-6.82 0-1.822-1.547-2.854-2.915-3.284v.01zm1.908-5.092c-.766-.856-1.908-1.187-2.96-.962-.436.09-.706.511-.616.932.09.42.511.691.932.602.511-.105 1.067.044 1.442.465.376.421.466.977.316 1.473-.136.406.089.856.51.992.405.119.857-.105.992-.512.33-1.021.12-2.178-.646-3.035l.03.045zm2.418-2.195c-1.576-1.757-3.905-2.419-6.054-1.968-.496.104-.812.587-.706 1.081.104.496.586.813 1.082.707 1.532-.331 3.185.15 4.296 1.383 1.112 1.246 1.429 2.943.947 4.416-.165.48.106 1.007.586 1.157.479.165.991-.104 1.157-.586.675-2.088.241-4.478-1.338-6.235l.03.045z"></path></svg>
<span>微博</span>
</a>
<a class="share-btn twitter" href="#" onclick="sharePost(event, 'twitter')">
<svg role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Twitter</title><path d="M21.543 7.104c.015.211.015.423.015.636 0 6.507-4.954 14.01-14.01 14.01v-.003A13.94 13.94 0 0 1 0 19.539a9.88 9.88 0 0 0 7.287-2.041 4.93 4.93 0 0 1-4.6-3.42 4.916 4.916 0 0 0 2.223-.084A4.926 4.926 0 0 1 .96 9.167v-.062a4.887 4.887 0 0 0 2.235.616A4.928 4.928 0 0 1 1.67 3.148 13.98 13.98 0 0 0 11.82 8.292a4.929 4.929 0 0 1 8.39-4.49 9.868 9.868 0 0 0 3.128-1.196 4.941 4.941 0 0 1-2.165 2.724A9.828 9.828 0 0 0 24 4.555a10.019 10.019 0 0 1-2.457 2.549z"></path></svg>
<span>Twitter</span>
</a>
<a class="share-btn linkedin" href="#" onclick="sharePost(event, 'linkedin')">
<svg role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg>
<span>LinkedIn</span>
</a>
<a class="share-btn wechat" href="#" onclick="sharePost(event, 'wechat')">
<svg role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>WeChat</title><path d="M8.691 2.188C3.891 2.188 0 5.476 0 9.53c0 2.212 1.17 4.203 3.002 5.55a.59.59 0 0 1 .213.665l-.39 1.48c-.019.07-.048.141-.048.213 0 .163.13.295.29.295a.326.326 0 0 0 .167-.054l1.903-1.114a.864.864 0 0 1 .717-.098 10.16 10.16 0 0 0 2.837.403c.276 0 .543-.027.811-.05-.857-2.578.157-4.972 1.932-6.446 1.703-1.415 3.882-1.98 5.853-1.838-.576-3.583-4.196-6.348-8.596-6.348zM5.785 5.991c.642 0 1.162.529 1.162 1.18a1.17 1.17 0 0 1-1.162 1.178A1.17 1.17 0 0 1 4.623 7.17c0-.651.52-1.18 1.162-1.18zm5.813 0c.642 0 1.162.529 1.162 1.18a1.17 1.17 0 0 1-1.162 1.178 1.17 1.17 0 0 1-1.162-1.178c0-.651.52-1.18 1.162-1.18zm5.34 2.867c-1.797-.052-3.746.512-5.28 1.786-1.72 1.428-2.687 3.72-1.78 6.22.942 2.453 3.666 4.229 6.884 4.229.826 0 1.622-.12 2.361-.336a.722.722 0 0 1 .598.082l1.584.926a.272.272 0 0 0 .14.047c.134 0 .24-.111.24-.247 0-.06-.023-.12-.038-.177l-.327-1.233a.582.582 0 0 1-.023-.156.49.49 0 0 1 .201-.398C23.024 18.48 24 16.82 24 14.98c0-3.21-2.931-5.837-6.656-6.088V8.89c-.135-.01-.27-.027-.407-.03zm-2.53 3.274c.535 0 .969.44.969.982a.976.976 0 0 1-.969.983.976.976 0 0 1-.969-.983c0-.542.434-.982.97-.982zm4.844 0c.535 0 .969.44.969.982a.976.976 0 0 1-.969.983.976.976 0 0 1-.969-.983c0-.542.434-.982.969-.982z"></path></svg>
<span>微信</span>
</a>
<a class="share-btn qq" href="#" onclick="sharePost(event, 'qq')">
<svg role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Tencent QQ</title><path d="M21.395 15.035a40 40 0 0 0-.803-2.264l-1.079-2.695c.001-.032.014-.562.014-.836C19.526 4.632 17.351 0 12 0S4.474 4.632 4.474 9.241c0 .274.013.804.014.836l-1.08 2.695a39 39 0 0 0-.802 2.264c-1.021 3.283-.69 4.643-.438 4.673.54.065 2.103-2.472 2.103-2.472 0 1.469.756 3.387 2.394 4.771-.612.188-1.363.479-1.845.835-.434.32-.379.646-.301.778.343.578 5.883.369 7.482.189 1.6.18 7.14.389 7.483-.189.078-.132.132-.458-.301-.778-.483-.356-1.233-.646-1.846-.836 1.637-1.384 2.393-3.302 2.393-4.771 0 0 1.563 2.537 2.103 2.472.251-.03.581-1.39-.438-4.673"></path></svg>
<span>QQ</span>
</a>
<a class="share-btn facebook" href="#" onclick="sharePost(event, 'facebook')">
<svg role="img" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Facebook</title><path d="M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"></path></svg>
<span>Facebook</span>
</a>
</div>
<div class="giscus-container" style="margin-top: 50px;">
<script async="" crossorigin="anonymous" data-category="Announcements" data-emit-metadata="0" data-input-position="bottom" data-lang="zh-CN" data-mapping="pathname" data-reactions-enabled="1" data-repo="forliage/forliage.github.io" data-repo-id="R_kgDONjzd4w" data-strict="0" data-theme="https://forliage.github.io/giscus.css" src="https://giscus.app/client.js">
</script>
</div>


</main>
</div>
<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
<script>
      mermaid.initialize({
        startOnLoad: true
      });
    </script>
<script src="../script.js"></script>
<!-- The Modal -->
<div class="modal" id="about-me-modal">
<!-- Modal content -->
<div class="modal-content">
<span class="close-button">×</span>
<h2>About Me</h2>
<p>This is forliage, an undergraduate student of computer science and technology at Zhejiang University.</p>
<p><strong>Motto:</strong> People always say that time heals all wounds, but I don't believe that. Time doen't heal the pain, it just makes us get used to pain. When you lose someone, you don't really forget them; you just learn how to live on without them.</p>
<p><strong>Interests:</strong> Computer Graphics, Computer Version, Computer Animation, HPC, AIGC</p>
<p><strong>Favorite Movie:</strong> The Shawshank Redemption, Dead Poets Society, Zootopia</p>
<p><strong>Favorite Music:</strong> Blank Space, Sorega Daiji, Counting Stars, Whataya Want from Me</p>
<p><strong>Contact Information:</strong>masterforliage@gmail.com</p>
<hr/>
<h3>订阅我的博客</h3>
<p>订阅功能正在建设中，敬请期待！</p>
</div>
</div>
<script src="../modal.js"></script>
<!-- Highlight.js Core -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<!-- Highlight.js Copy Plugin -->
<script src="https://cdn.jsdelivr.net/npm/highlightjs-copy@1.0.6/dist/highlightjs-copy.min.js"></script>
<!-- Initialize Highlight.js and Copy Plugin -->
<script>
  hljs.highlightAll();
  hljs.addPlugin(new CopyButtonPlugin());
</script>
</body>
</html>