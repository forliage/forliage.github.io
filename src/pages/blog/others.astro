---
import Layout from "../../layouts/Layout.astro";
import Header from "../../components/Header.astro";

interface Course {
    id: string;
    title: string;
    intro: string;
    size: number;
    color: string;
    secondaryColor: string;
    ringColor: string;
    textureType: "striped" | "gaseous" | "cratered";
    orbitSpeedFactor: number; // Higher is faster base speed
    tags: string[];
}

const courses: Course[] = [
    {
        id: "cmu-15-462",
        title: "CMU 15-462 Computer Graphics",
        intro: "Comprehensive introduction to computer graphics including rasterization, geometry, and animation.",
        size: 190,
        color: "#ff6b6b",
        secondaryColor: "#ff9b9b",
        ringColor: "rgba(255, 107, 107, 0.4)",
        textureType: "striped",
        orbitSpeedFactor: 1.2,
        tags: ["Graphics", "Math"],
    },
    {
        id: "cmu-15-458",
        title: "CMU 15-458 Discrete Differential Geometry",
        intro: "Study of discrete geometric structures and their application in computer graphics.",
        size: 160,
        color: "#4dabf7",
        secondaryColor: "#74c0fc",
        ringColor: "rgba(77, 171, 247, 0.4)",
        textureType: "gaseous",
        orbitSpeedFactor: 0.9,
        tags: ["Geometry", "Math"],
    },
    {
        id: "stanford-cs231n",
        title: "Stanford CS231n Computer Vision",
        intro: "Deep Learning for Computer Vision, focusing on CNNs and visual recognition.",
        size: 180,
        color: "#69db7c",
        secondaryColor: "#8ce99a",
        ringColor: "rgba(105, 219, 124, 0.4)",
        textureType: "cratered",
        orbitSpeedFactor: 1.5,
        tags: ["AI", "Vision"],
    },
    {
        id: "ucsd-cse-272",
        title: "UCSD CSE 272 Advanced Image Synthesis",
        intro: "Path tracing, light transport, and physically based rendering.",
        size: 170,
        color: "#da77f2",
        secondaryColor: "#e599f7",
        ringColor: "rgba(218, 119, 242, 0.4)",
        textureType: "gaseous",
        orbitSpeedFactor: 1.1,
        tags: ["Graphics", "Rendering"],
    },
    {
        id: "games-101",
        title: "Games 101",
        intro: "Introduction to Computer Graphics: Rendering, Geometry, and Modeling.",
        size: 150,
        color: "#ffa94d",
        secondaryColor: "#ffc078",
        ringColor: "rgba(255, 169, 77, 0.4)",
        textureType: "striped",
        orbitSpeedFactor: 1.0,
        tags: ["Graphics", "Games"],
    },
    {
        id: "games-202",
        title: "Games 202",
        intro: "Real-time High Quality Rendering: Shadows, Global Illumination.",
        size: 175,
        color: "#adb5bd",
        secondaryColor: "#dee2e6",
        ringColor: "rgba(173, 181, 189, 0.4)",
        textureType: "cratered",
        orbitSpeedFactor: 1.3,
        tags: ["Graphics", "Real-time"],
    },
];

const allTags = [...new Set(courses.flatMap((c) => c.tags))].sort();
---

<Layout title="Other Lecture Notes - Liuye Zhao">
    <Header />

    <main class="universe-container">
        <!-- Back Link -->
        <a href="/blog" class="back-link">
            <span class="back-icon">‚Üê</span>
            <span class="back-text">Back to Blog</span>
        </a>

        <!-- Galaxy Background -->
        <div id="galaxy-wrapper">
            <canvas id="galaxy-canvas"></canvas>
            <div class="galaxy-glow-center"></div>
        </div>

        <!-- Search UI -->
        <div id="search-container" class="search-container hidden">
            <div class="search-box">
                <input
                    type="text"
                    id="course-search"
                    placeholder="Search for stars..."
                />
                <div class="tag-filters">
                    {
                        allTags.map((tag) => (
                            <button class="tag-btn" data-tag={tag}>
                                {tag}
                            </button>
                        ))
                    }
                    <button class="tag-btn active" data-tag="all">All</button>
                </div>
            </div>
        </div>

        <!-- Orbital System -->
        <div id="orbital-system" class="orbital-system">
            {
                courses.map((course) => (
                    <div
                        class="planet-container"
                        id={`planet-${course.id}`}
                        data-tags={course.tags.join(",")}
                        data-speed-factor={course.orbitSpeedFactor}
                        style={`
                        --planet-size: ${course.size}px;
                        --planet-color: ${course.color};
                        --secondary-color: ${course.secondaryColor};
                        --ring-color: ${course.ringColor};
                        --self-spin-speed: ${10 / course.orbitSpeedFactor}s;
                    `}
                    >
                        <div class="planet-visual">
                            <div class="planet-glow" />
                            <div class="planet-body">
                                <div
                                    class={`planet-surface ${course.textureType}`}
                                />
                                <div class="planet-shadow" />
                                <div class="planet-rings">
                                    <div class="ring-inner" />
                                    <div class="ring-outer" />
                                    <div class="ring-detail" />
                                </div>
                            </div>
                        </div>

                        <div class="planet-info">
                            <h2 class="planet-title">{course.title}</h2>
                            <p class="planet-intro">{course.intro}</p>
                            <a
                                href={`/blog/others/${course.id}`}
                                class="visit-btn"
                            >
                                LAND ON PLANET
                            </a>
                        </div>
                    </div>
                ))
            }
        </div>

        <!-- Entrance UI -->
        <div id="entrance-screen" class="entrance-screen">
            <h1 class="galaxy-title">Explore <br /> The Cosmos</h1>
            <button id="enter-btn" class="enter-button">START JOURNEY</button>
        </div>

        <button id="back-to-galaxy-btn" class="back-to-galaxy hidden"
            >RESET VIEW</button
        >
    </main>
</Layout>

<script>
    /* --- Phase 10: Keplerian Orbits Logic --- */

    // Galaxy Setup
    const canvas = document.getElementById(
        "galaxy-canvas",
    ) as HTMLCanvasElement;
    const ctx = canvas.getContext("2d");
    let width = 0,
        height = 0;
    let particles: any[] = [];
    let animationId: number;

    function resize() {
        if (!canvas) return;
        width = canvas.width = window.innerWidth;
        height = canvas.height = window.innerHeight;
    }

    function initGalaxy(density = 1.0) {
        if (!width) return;
        particles = [];
        const maxRadius = Math.sqrt(width ** 2 + height ** 2) * 1.5;
        const count = 12000 * density;

        for (let i = 0; i < count; i++) {
            const angle = Math.random() * Math.PI * 2;
            const distance = Math.pow(Math.random(), 2.2) * maxRadius;
            let baseColor = "255, 255, 255";
            if (distance > maxRadius * 0.12) {
                const colorPool = [
                    "180, 220, 255",
                    "255, 200, 220",
                    "220, 255, 180",
                    "230, 190, 255",
                    "255, 230, 180",
                ];
                baseColor =
                    colorPool[Math.floor(Math.random() * colorPool.length)];
            }
            const radialO = 1.0 - distance / maxRadius;
            const opacity = (Math.random() * 0.45 + 0.15) * radialO;

            particles.push({
                angle: angle,
                radius: distance,
                speed:
                    (0.00006 + Math.random() * 0.0001) /
                    (distance * 0.0002 + 0.1),
                size: (Math.random() * 1.6 + 0.2) * (radialO + 0.5),
                opacity: opacity,
                color: `rgba(${baseColor},`,
            });
        }
    }

    function animateGalaxy() {
        if (!ctx) return;
        ctx.fillStyle = "#010103";
        ctx.fillRect(0, 0, width, height);
        ctx.save();
        ctx.translate(width / 2, height / 2);
        ctx.scale(1.5, 0.5);
        ctx.rotate(0.25);
        particles.forEach((p) => {
            p.angle += p.speed;
            const x = Math.cos(p.angle) * p.radius;
            const y = Math.sin(p.angle) * p.radius;
            ctx.beginPath();
            ctx.fillStyle = `${p.color}${p.opacity})`;
            ctx.arc(x, y, p.size, 0, Math.PI * 2);
            ctx.fill();
        });
        ctx.restore();
        animationId = requestAnimationFrame(animateGalaxy);
    }

    /* --- Orbit Simulation --- */
    interface OrbitPlanet {
        el: HTMLElement;
        theta: number;
        speedFactor: number;
        orbitLevel: number; // 0: Inner, 1: Mid, 2: Outer
        isFocused: boolean;
        currentAxisAngle: number;
    }

    let orbitPlanets: OrbitPlanet[] = [];
    let isJourneyStarted = false;

    function initOrbits() {
        const planetEls = document.querySelectorAll(".planet-container");
        orbitPlanets = [];

        planetEls.forEach((el, i) => {
            const speedFactor = parseFloat(
                (el as HTMLElement).dataset.speedFactor || "1.0",
            );

            // Distribute: Low(2), Mid(1), High(3)
            let orbitLevel = 0;
            if (i === 2) orbitLevel = 1;
            else if (i > 2) orbitLevel = 2;

            orbitPlanets.push({
                el: el as HTMLElement,
                theta: (i / planetEls.length) * Math.PI * 2,
                speedFactor: speedFactor,
                orbitLevel: orbitLevel,
                isFocused: false,
                currentAxisAngle: 0,
            });
            (el as HTMLElement).style.opacity = "1";
        });
    }

    function updatePlanets() {
        if (!isJourneyStarted) return;

        // Orbit Base Specs
        const padding = 50;
        const e_val = 0.65;

        // Max semi-major axis determined by screen width
        const max_a_outer = Math.min(
            (width / 2 - padding) / (1 + e_val),
            height * 0.45,
            500,
        );

        // Define 3 orbit tiers
        const orbitScales = [0.4, 0.7, 1.0]; // Inner, Mid, Outer relative sizes

        orbitPlanets.forEach((p) => {
            if (p.isFocused) return;

            // Individual Orbit Params
            const a_val = max_a_outer * orbitScales[p.orbitLevel];
            const b_val = a_val * 0.55;
            const c_val = a_val * e_val;

            // 1. POSITION (Focus at 0,0)
            const x_rel = a_val * Math.cos(p.theta) - c_val;
            const y_rel = b_val * Math.sin(p.theta);
            const r = Math.sqrt(x_rel ** 2 + y_rel ** 2);

            // 2. KEPLER SPEED: h/r^2
            // baseH decreases for outer orbits (Kepler's 3rd Law: T^2 prop a^3)
            // v is approx 1/sqrt(a)
            const baseH =
                (0.6 * p.speedFactor) / Math.sqrt(orbitScales[p.orbitLevel]);
            const dTheta = baseH / (r * 0.1 + 45);

            p.theta += dTheta;

            // 3. PERSPECTIVE
            const depthFactor = y_rel / b_val; // -1 to 1
            const orbitScaleMultiplier = 0.7 + p.orbitLevel * 0.15; // Inner planets slightly smaller
            const distScale =
                (0.5 + (depthFactor + 1) * 0.4) * orbitScaleMultiplier;
            const opacity = 0.5 + (depthFactor + 1) * 0.25;

            // 4. SMOOTH RADIAL AXIS (Points to Focus)
            const targetAngleRad = Math.atan2(-y_rel, -x_rel);
            let targetAngleDeg = targetAngleRad * (180 / Math.PI) + 90;

            // Smooth angle transition to prevent jumps
            if (p.currentAxisAngle === 0) p.currentAxisAngle = targetAngleDeg;

            // Handle wrapping jump
            let diff = targetAngleDeg - p.currentAxisAngle;
            while (diff > 180) diff -= 360;
            while (diff < -180) diff += 360;
            p.currentAxisAngle += diff * 0.1; // Smooth interpolation

            p.el.style.transform = `translate3d(${x_rel}px, ${y_rel}px, 0) scale(${distScale})`;
            p.el.style.zIndex = Math.floor(
                p.orbitLevel * 100 + (depthFactor + 1) * 50,
            ).toString();
            p.el.style.opacity = opacity.toString();

            // Apply radial tilt smoothly
            p.el.style.setProperty("--tilt-x", `${15 + depthFactor * 5}deg`);
            p.el.style.setProperty("--tilt-z", `${p.currentAxisAngle}deg`);
        });

        requestAnimationFrame(updatePlanets);
    }

    /* --- Core UI Actions --- */
    const enterBtn = document.getElementById("enter-btn");
    const entranceScreen = document.getElementById("entrance-screen");
    const backBtn = document.getElementById("back-to-galaxy-btn");
    const searchContainer = document.getElementById("search-container");

    function startJourney() {
        if (!entranceScreen || !searchContainer) return;
        entranceScreen.style.opacity = "0";
        initGalaxy(1.8);

        setTimeout(() => {
            entranceScreen.style.display = "none";
            isJourneyStarted = true;
            searchContainer.classList.remove("hidden");
            initOrbits();
            updatePlanets();
        }, 800);
    }

    enterBtn?.addEventListener("click", startJourney);

    /* --- Interaction: Focus & Reset --- */
    document.querySelectorAll(".planet-container").forEach((el) => {
        el.addEventListener("click", (e) => {
            if ((e.target as HTMLElement).closest("a")) return;

            const planetId = el.id;
            const p = orbitPlanets.find((item) => item.el.id === planetId);
            if (!p || p.isFocused) return;

            // Dim others
            document.querySelectorAll(".planet-container").forEach((other) => {
                if (other !== el) other.classList.add("dimmed");
            });

            p.isFocused = true;
            el.classList.add("focused");
            // Slide to center
            (el as HTMLElement).style.transform =
                `translate3d(0, 0, 0) scale(1.4)`;
            (el as HTMLElement).style.zIndex = "200";
            (el as HTMLElement).style.opacity = "1";

            backBtn?.classList.remove("hidden");
        });
    });

    backBtn?.addEventListener("click", () => {
        orbitPlanets.forEach((p) => {
            p.isFocused = false;
            p.el.classList.remove("focused", "dimmed");
        });
        backBtn.classList.add("hidden");
    });

    window.addEventListener("resize", () => {
        resize();
        initGalaxy();
        if (isJourneyStarted) initOrbits();
    });

    resize();
    initGalaxy();
    animateGalaxy();

    /* --- Search Logic --- */
    const searchInput = document.getElementById(
        "course-search",
    ) as HTMLInputElement;
    const tagBtns = document.querySelectorAll(".tag-btn");

    function filterPlanets() {
        const query = searchInput.value.toLowerCase();
        const activeTag =
            document
                .querySelector(".tag-btn.active")
                ?.getAttribute("data-tag") || "all";

        orbitPlanets.forEach((p) => {
            const title =
                p.el
                    .querySelector(".planet-title")
                    ?.textContent?.toLowerCase() || "";
            const tags = (p.el as HTMLElement).dataset.tags?.split(",") || [];
            const matchesQuery = title.includes(query);
            const matchesTag = activeTag === "all" || tags.includes(activeTag);

            if (matchesQuery && matchesTag) {
                p.el.style.visibility = "visible";
                p.el.style.pointerEvents = "auto";
            } else {
                p.el.style.visibility = "hidden";
                p.el.style.pointerEvents = "none";
            }
        });
    }

    searchInput?.addEventListener("input", filterPlanets);
    tagBtns.forEach((btn) => {
        btn.addEventListener("click", () => {
            tagBtns.forEach((b) => b.classList.remove("active"));
            btn.classList.add("active");
            filterPlanets();
        });
    });
</script>

<style>
    :root {
        --space-bg: #010103;
        --accent-glow: rgba(100, 150, 255, 0.25);
        --tilt-x: 20deg;
        --tilt-z: 0deg;
        --ring-tilt: 75deg;
    }

    .universe-container {
        position: relative;
        width: 100vw;
        height: 100vh;
        background-color: var(--space-bg);
        overflow: hidden;
        font-family: "Outfit", sans-serif;
        color: #fff;
    }

    /* UI ELEMENTS */
    .back-link {
        position: fixed;
        top: 110px;
        left: 40px;
        z-index: 250;
        display: flex;
        align-items: center;
        gap: 12px;
        text-decoration: none;
        color: rgba(255, 255, 255, 0.7);
        font-weight: 600;
        font-size: 0.9rem;
        padding: 8px 18px;
        border-radius: 30px;
        background: rgba(255, 255, 255, 0.06);
        border: 1px solid rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(15px);
        transition: all 0.4s ease;
    }
    .back-link:hover {
        color: #fff;
        background: rgba(255, 255, 255, 0.15);
        transform: translateX(-5px);
    }

    .search-container {
        position: fixed;
        top: 110px;
        right: 40px;
        z-index: 220;
        width: auto;
        max-width: 400px;
        transition: all 0.5s ease;
    }
    .search-container.hidden {
        opacity: 0;
        transform: translateY(-30px);
        pointer-events: none;
    }
    .search-box {
        background: rgba(10, 10, 25, 0.5);
        backdrop-filter: blur(40px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 16px;
        padding: 12px 18px;
    }
    #course-search {
        width: 100%;
        background: transparent;
        border: none;
        border-bottom: 2px solid rgba(255, 255, 255, 0.1);
        color: #fff;
        font-size: 0.95rem;
        padding: 6px;
        margin-bottom: 8px;
        outline: none;
    }
    .tag-filters {
        display: flex;
        gap: 5px;
        flex-wrap: wrap;
    }
    .tag-btn {
        background: rgba(255, 255, 255, 0.06);
        border: 1px solid rgba(255, 255, 255, 0.08);
        color: #aaa;
        padding: 3px 12px;
        border-radius: 12px;
        cursor: pointer;
        font-size: 0.75rem;
        transition: all 0.3s;
    }
    .tag-btn.active {
        background: #fff;
        color: #000;
        font-weight: 700;
    }

    /* ORBITAL SYSTEM */
    .orbital-system {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        perspective: 1000px;
        z-index: 10;
        pointer-events: none;
    }

    .planet-container {
        position: absolute;
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 500px;
        cursor: pointer;
        transition:
            opacity 0.5s,
            transform 0.8s cubic-bezier(0.19, 1, 0.22, 1);
        opacity: 0;
        pointer-events: auto;
    }
    .planet-container.focused {
        z-index: 250 !important;
    }
    .planet-container.dimmed {
        opacity: 0.1 !important;
        filter: blur(10px);
        pointer-events: none;
    }

    /* PLANET VISUALS (RETAINED) */
    .planet-visual {
        position: relative;
        width: var(--planet-size);
        height: var(--planet-size);
        margin-bottom: 40px;
        transform-style: preserve-3d;
    }
    .planet-glow {
        position: absolute;
        top: -30%;
        left: -30%;
        width: 160%;
        height: 160%;
        background: radial-gradient(
            circle,
            var(--planet-color) 0%,
            transparent 70%
        );
        opacity: 0.45;
        filter: blur(25px);
        pointer-events: none;
        border-radius: 50%;
    }
    .planet-body {
        width: 100%;
        height: 100%;
        position: relative;
        transform-style: preserve-3d;
        transform: rotateX(var(--tilt-x)) rotateZ(var(--tilt-z));
        transition: transform 0.1s linear;
    }
    .planet-surface {
        width: 100%;
        height: 100%;
        border-radius: 50%;
        background: var(--planet-color);
        overflow: hidden;
        position: relative;
        box-shadow:
            inset 0 0 80px rgba(0, 0, 0, 0.8),
            0 0 50px var(--planet-color);
        &::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
            opacity: 0.18;
            mix-blend-mode: overlay;
            pointer-events: none;
        }
    }
    .planet-surface.striped {
        background:
            radial-gradient(
                circle at 50% 50%,
                rgba(255, 255, 255, 0.05) 0%,
                transparent 80%
            ),
            repeating-linear-gradient(
                0.5deg,
                var(--planet-color),
                var(--planet-color) 30px,
                var(--secondary-color) 30px,
                var(--secondary-color) 55px
            );
        background-size: 200% 100%;
        animation: surfaceSpin var(--self-spin-speed) linear infinite;
    }
    .planet-surface.gaseous {
        background: linear-gradient(
            175deg,
            var(--planet-color) 0%,
            var(--secondary-color) 25%,
            var(--planet-color) 50%,
            var(--secondary-color) 75%,
            var(--planet-color) 100%
        );
        background-size: 250% 100%;
        animation: surfaceSpin 15s linear infinite;
    }
    .planet-surface.cratered {
        background:
            radial-gradient(
                circle at 30% 30%,
                var(--secondary-color) 12%,
                transparent 25%
            ),
            radial-gradient(
                circle at 65% 75%,
                var(--secondary-color) 18%,
                transparent 30%
            ),
            radial-gradient(
                circle at 10% 50%,
                var(--secondary-color) 10%,
                transparent 20%
            ),
            var(--planet-color);
        background-size: 200% 100%;
        animation: surfaceSpin 40s linear infinite;
    }
    @keyframes surfaceSpin {
        0% {
            background-position: 0% 0%;
        }
        100% {
            background-position: 200% 0%;
        }
    }

    .planet-shadow {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        /* Use radial-gradient for more natural spherical lighting */
        background: radial-gradient(
            circle at 50% 0%,
            transparent 0%,
            rgba(0, 0, 0, 0.3) 35%,
            rgba(0, 0, 0, 0.9) 90%
        );
        mix-blend-mode: multiply;
        border-radius: 50%;
    }

    .planet-rings {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 230%;
        height: 230%;
        transform: translate(-50%, -50%) rotateX(var(--ring-tilt)) rotateY(2deg);
        pointer-events: none;
        transform-style: preserve-3d;
    }
    .ring-inner,
    .ring-outer,
    .ring-detail {
        position: absolute;
        top: 50%;
        left: 50%;
        border-radius: 50%;
        transform: translate(-50%, -50%);
        border-style: solid;
    }
    .ring-inner {
        width: 100%;
        height: 100%;
        border-width: 25px;
        border-color: var(--ring-color);
        opacity: 0.65;
    }
    .ring-outer {
        width: 140%;
        height: 140%;
        border-width: 15px;
        border-color: var(--ring-color);
        opacity: 0.3;
    }
    .ring-detail {
        width: 125%;
        height: 125%;
        border-width: 50px;
        border-color: transparent;
        background: repeating-conic-gradient(
            from 0deg,
            transparent 0,
            transparent 1.5deg,
            rgba(255, 255, 255, 0.12) 1.5deg,
            rgba(255, 255, 255, 0.12) 2.5deg
        );
        -webkit-mask-image: radial-gradient(
            circle,
            transparent 40%,
            #000 41%,
            #000 55%,
            transparent 56%
        );
    }

    /* INFO CARD */
    .planet-info {
        background: rgba(8, 8, 20, 0.7);
        backdrop-filter: blur(40px);
        border-radius: 20px;
        padding: 25px;
        border: 1.5px solid rgba(255, 255, 255, 0.1);
        text-align: center;
        width: 100%;
        max-width: 380px;
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.7);
        opacity: 0;
        transition: opacity 0.5s;
    }
    .planet-container:hover .planet-info,
    .planet-container.focused .planet-info {
        opacity: 1;
    }
    .planet-title {
        font-size: 1.6rem;
        color: var(--planet-color);
        margin-bottom: 8px;
        font-weight: 900;
    }
    .planet-intro {
        color: #ccc;
        font-size: 0.95rem;
        line-height: 1.5;
        margin-bottom: 25px;
    }
    .visit-btn {
        display: inline-block;
        padding: 14px 36px;
        border: 2.5px solid var(--planet-color);
        color: var(--planet-color);
        text-decoration: none;
        border-radius: 12px;
        font-weight: 900;
        font-size: 0.9rem;
        letter-spacing: 3px;
        transition: all 0.3s;
        background: rgba(0, 0, 0, 0.3);
    }
    .visit-btn:hover {
        background: var(--planet-color);
        color: #000;
        box-shadow: 0 0 30px var(--planet-color);
    }

    /* BACKGROUND GALAXY */
    #galaxy-wrapper {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1;
        pointer-events: none;
    }
    .galaxy-glow-center {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 80vw;
        height: 40vh;
        transform: translate(-50%, -50%) rotate(0.25rad);
        background: radial-gradient(
            ellipse,
            rgba(255, 255, 255, 0.15) 0%,
            rgba(150, 200, 255, 0.1) 40%,
            transparent 75%
        );
        pointer-events: none;
        filter: blur(100px);
        opacity: 0.8;
    }

    /* ENTRANCE */
    .entrance-screen {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 300;
        transition: opacity 1s ease;
    }
    .galaxy-title {
        font-size: 5rem;
        text-transform: uppercase;
        font-weight: 950;
        letter-spacing: 15px;
        text-align: center;
        margin-bottom: 50px;
        color: #fff;
    }
    .enter-button {
        padding: 20px 70px;
        font-size: 1.2rem;
        background: transparent;
        border: 2px solid #fff;
        color: #fff;
        border-radius: 100px;
        cursor: pointer;
        transition: all 0.5s ease;
    }
    .enter-button:hover {
        background: #fff;
        color: #000;
        box-shadow: 0 0 50px #fff;
        transform: scale(1.05);
    }

    .back-to-galaxy {
        position: fixed;
        bottom: 50px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 400;
        background: rgba(255, 255, 255, 0.1);
        border: 1.5px solid #fff;
        color: #fff;
        padding: 12px 40px;
        border-radius: 40px;
        cursor: pointer;
        backdrop-filter: blur(20px);
        font-weight: 700;
        transition: all 0.3s;
    }
    .back-to-galaxy.hidden {
        display: none;
    }
</style>
