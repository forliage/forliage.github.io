---
title: "计算机图形学03:图形学基础2"
description: ""
pubDate: "2025-08-27"
heroImage: ""
---

# 计算机图形学03:图形学基础2

### **引言：如何向计算机描述一个形状？**

想象一下，我们要描述一个我们中学就非常熟悉的形状——抛物线。我们该如何将这个概念传达给一台只懂得数字和计算的机器呢？

一个简单的形状，就可以引出我们今天要讨论的核心问题：**表示法 (Representation)**。在计算机图形学中，没有一种万能的、完美的方法来描述所有几何体。我们通常有四种主流的表示方法，每种方法都有其独特的优点和致命的缺点。它们分别是：**显式表示法、隐式表示法、参数表示法**，以及在实际应用中占据主导地位的**分段表示法**。

### **1\. 显式表示法 (Explicit Representation)**

这是我们最先接触，也是最直观的一种形式。

*   **核心思想：** 将一个坐标变量表示为其他坐标变量的函数。
*   **形式：** $y = f(x)$ （二维情况）或 $z = f(x, y)$ （三维情况）。
*   **例子：**
    *   二维直线： $y = mx + c$
    *   二维抛物线： $y = x^2$
    *   三维平面： $z = ax + by + c$

**优点：**

*   **简单直观：** 对于给定的 $x$ (或 $x, y$)，计算对应的 $y$ (或 $z$) 非常容易。这使得绘制函数图像变得简单。

**缺点：** 显式表示法的局限性非常大，这使其在通用图形学应用中几乎无法使用。

1.  **坐标轴依赖性：** 这种形式隐含地假定了一个“特殊”的坐标轴（比如y轴）。如果形状稍微旋转一下，可能就无法用一个单一的显式函数来表示了。
2.  **无法表示封闭或多值曲线：** 一个 $x$ 值只能对应一个 $y$ 值。这意味着我们无法用 $y=f(x)$ 的形式表示一个完整的圆（一个x对应两个y），也无法表示一条垂直的线（斜率 $m$ 为无穷大）。
3.  **难以表示三维曲线：** 如何用显式方程表示一条三维空间中的任意直线？通常需要两个平面方程的交集，例如 $z = a\_1x + b\_1y + c\_1$ 和 $z = a\_2x + b\_2y + c\_2$，这非常笨拙。

由于这些致命的缺点，显式表示法在图形学中主要用于一些特殊场景，如高度场地形的生成（地形高度 $z$ 是地理坐标 $x, y$ 的函数）。

### **2\. 隐式表示法 (Implicit Representation)**

为了克服显式表示法的坐标轴依赖问题，我们引入了隐式表示法。

*   **核心思想：** 将所有坐标变量放在一个方程中，描述它们共同满足的关系。曲线或曲面被定义为某个函数值为零的点的集合。
*   **形式：** $f(x, y) = 0$ （二维情况）或 $f(x, y, z) = 0$ （三维情况）。
*   **例子：**
    *   二维直线： $ax + by + c = 0$
    *   二维圆： $x^2 + y^2 - r^2 = 0$
    *   三维平面： $ax + by + cz + d = 0$
    *   三维球面： $x^2 + y^2 + z^2 - R^2 = 0$

**优点：** 隐式表示法的最大优点是它提供了一个强大的\*\*“成员资格”测试\*\*。对于空间中的任意一点 $(x, y, z)$，我们可以通过计算 $f(x, y, z)$ 的值来判断它与曲面的关系：

*   如果 $f(x, y, z) = 0$，点在曲面上。
*   如果 $f(x, y, z) > 0$，点在曲面的一侧（通常定义为“外部”）。
*   如果 $f(x, y, z) < 0$，点在曲面的另一侧（通常定义为“内部”）。

这个特性在很多图形学算法中至关重要，例如：

*   **碰撞检测：** 判断一个点是否进入了某个物体内部。
*   **光线追踪：** 计算光线与物体的交点，本质上就是解方程组。
*   **构造实体几何 (CSG):** 通过布尔运算（交、并、差）组合简单的隐式物体来创建复杂的形状。

**缺点：**

*   **难以生成点：** 隐式表示法虽然善于“判断”，但拙于“生成”。给定一个隐式方程，要直接、有序地生成曲面上的点来绘制它，通常是非常困难的。我们需要一个能够主动“吐出”点集的表示法。

### **3\. 参数表示法 (Parametric Representation)**

参数表示法正是为了解决“生成点”这一需求而生，它是计算机图形学中用于描述曲线和曲面的**最重要、最常用**的数学形式。

*   **核心思想：** 将点的坐标表示为一个或多个自变量（参数）的函数。我们可以把它想象成一个点随着“时间”（参数）的流逝而在空间中运动所形成的轨迹。
*   **形式：**
    *   **曲线 (一个参数 $u$)：** $P(u) = (x(u), y(u), z(u))$
    *   **曲面 (两个参数 $u, v$)：** $P(u, v) = (x(u, v), y(u, v), z(u, v))$
*   **例子：**
    *   2D/3D直线（上一讲已介绍）： $P(u) = P\_0 + u\\mathbf{d}$
    *   2D圆： $x(u) = r \\cos(u), y(u) = r \\sin(u)$，其中 $u \\in \[0, 2\\pi\]$
    *   3D球面： $$x(u, v) = R \\cos(u) \\sin(v)$$ $$y(u, v) = R \\sin(u) \\sin(v)$$ $$z(u, v) = R \\cos(v)$$ 其中 $u \\in \[0, 2\\pi\], v \\in \[0, \\pi\]$

**优点：**

*   **易于生成点：** 这是参数形式最大的优势。我们只需要在一个或两个参数的定义域内进行循环采样，就可以轻松、有序地生成曲线或曲面上的点集，从而进行绘制。
*   **表达能力强：** 可以非常方便地表示有起点和终点的曲线段，以及有边界的曲面片。
*   **易于处理：** 许多几何操作，如计算切线、法线、曲率等，在参数形式下都变得非常直接。

**缺点：**

*   **点分类困难：** 与隐式形式正好相反。给定空间中的一个点，要判断它是否在参数曲面上，或者在内部还是外部，通常是一个非常复杂的问题。

#### **切线与法线**

微积分为我们提供了分析参数曲线和曲面的强大工具。

*   **曲线的切线 (Tangent):** 曲线在某一点的切线方向描述了该点的瞬时运动方向。它可以通过对参数方程求一阶导数得到： $$\\mathbf{T}(u) = \\frac{dP(u)}{du} = (\\frac{dx(u)}{du}, \\frac{dy(u)}{du}, \\frac{dz(u)}{du})$$
*   **曲面的法线 (Normal):** 曲面在某一点的法线是一个垂直于该点切平面的向量。它对于光照计算至关重要。我们可以通过计算两个方向偏导数的叉积得到：
    1.  计算沿 $u$ 方向的偏导数（切线）：$\\frac{\\partial P(u, v)}{\\partial u}$
    2.  计算沿 $v$ 方向的偏导数（切线）：$\\frac{\\partial P(u, v)}{\\partial v}$
    3.  法向量 $\\mathbf{N}(u, v) = \\frac{\\partial P(u, v)}{\\partial u} \\times \\frac{\\partial P(u, v)}{\\partial v}$ （通常还需要对结果进行归一化）

### **4\. 分段表示法 (Piecewise Representation) 与多边形网格**

前面三种都是“解析”的，即用一个单一的数学公式来描述整个形状。然而，对于现实世界中绝大多数复杂物体（比如一个角色模型、一辆汽车），用一个方程来描述是几乎不可能的。因此，在实践中，我们采用一种更灵活、更具普适性的方法——分段表示。

*   **核心思想：** 用许多简单的、低阶的几何片段（基元）拼接起来，去**逼近 (approximate)** 复杂的曲线和曲面。
    *   **曲线：** 用一系列相连的**直线段**（构成**折线 (Polyline)**）来逼近。
    *   **曲面：** 用一系列相连的**平面多边形**（通常是三角形或四边形）来逼近，构成**多边形网格 (Polygon Mesh)**。

多边形网格是现代实时计算机图形学的基石。几乎你在所有电子游戏中看到的模型，最终都是以三角形网格的形式被GPU渲染的。

**数据来源：**

*   **手工建模：** 艺术家在3D建模软件（如Blender, 3ds Max）中，通过编辑顶点、边和面来创建模型。
*   **三维扫描：** 使用激光扫描仪等设备，从真实物体表面采集大量的点云数据，然后通过算法将这些点连接成一个多边形网格。斯坦福大学著名的“数字米开朗基罗计划”，就是通过扫描米开朗基罗的《大卫》雕像，获得了其高精度的三维网格模型。

#### **网格上的法向量**

法向量对于网格的着色（Shading）效果至关重要。我们有两种计算和存储法线的方式：

*   **面法线 (Per-Face Normal):**
    *   **计算：** 对每个多边形面片，取其两条不平行的边向量进行叉积，得到该面的法线。
    *   **特点：** 同一个面上的所有点的法线都相同。
    *   **效果：** 会产生**平直着色 (Flat Shading)** 效果，物体的每个面片轮廓分明，看起来有棱有角，像钻石或低多边形风格艺术。
*   **顶点法线 (Per-Vertex Normal):**
    *   **计算：** 对于每个顶点，将其所有共享该顶点的邻面的面法线进行平均（通常是加权平均），得到该顶点处的法线。
    *   **特点：** 法线信息存储在顶点上。当渲染时，一个面内部像素的法线由其顶点的法线插值得到。
    *   **效果：** 会产生**平滑着色 (Smooth Shading)** 效果，如Gouraud着色或Phong着色。即使模型本身是低多边形的，也能在视觉上营造出光滑曲面的感觉。