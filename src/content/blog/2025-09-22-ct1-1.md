---
title: "计算理论01:集合、关系和语言(I)"
description: ""
pubDate: "2025-09-22"
heroImage: ""
---

# 计算理论1-1:集合、关系和语言(I)

### 1.集合

#### 1.1.集合

定义：An unordered collection of elements

特殊定义：$\\varPhi$空集

#### 1.2.子集和真子集

子集符号：$\\subseteq$  
$$S\\subseteq T \\Leftrightarrow (\\forall x \\in S \\Rightarrow x \\in T)$$  
真子集符号：$\\subset$

两个集合相等当且仅当它们包含相同的元素  
$$S=T\\Leftrightarrow (S\\subseteq T)\\land (T\\subseteq S)$$

#### 1.3.集合操作

*   并集
*   交集
*   补集
*   差集
*   对称差

#### 1.4.集合性质

*   **幂等律** $$A\\cap A=A,\\quad A\\cup A=A$$
*   **交换律** $$A\\cup B=B\\cup A,\\quad A\\cap B = B\\cap A$$
*   **结合律** $$A\\cup (B\\cup C) = (A\\cup B)\\cup C$$ $$A\\cap (B\\cap C) = (A\\cap B)\\cap C$$
*   **分配律** $$A\\cup (B\\cap C) = (A\\cup B)\\cap (A\\cup C)$$ $$A\\cap(B\\cup C)=(A\\cap B)\\cup (A\\cap C)$$
*   **吸收律** $$A\\cup(A\\cap B)=A,\\quad A\\cap(A\\cup B)=A$$
*   **De Morgan定律** $$A-(B\\cup C)=(A-B)\\cap(A-C)$$ $$A-(B\\cap C)=(A-B)\\cup(A-C)$$

#### 1.5.幂集

$2^A$=$A$的所有子集的集合  
$$2^A=\\{T|T\\subseteq A\\}$$

一个例子：如果$S=\\{x,y,z\\}$，那么$S$的所有子集为：  
$$\\varPhi,\\{x\\},\\{y\\},\\{z\\},\\{x,y\\},\\{x,z\\},\\{y,z\\},\\{x,y,z\\}$$  
因此  
$$2^S=\\{\\varPhi,\\{x\\},\\{y\\},\\{z\\},\\{x,y\\},\\{x,z\\},\\{y,z\\},\\{x,y,z\\}\\}$$

**思考题:若A是可数集合，那么A的幂集是否是可数集合？**

**解答:** 先说结论：

*   若$A$有限（例如$|A|=n$），则$\\mathcal{P}(A)$有$2^n$个子集，有限可数。
*   若$A$可数无穷（与$\\mathbb{N}$等势），则$\\mathcal{P}(A)$不可数；更强的，有$|\\mathcal{P}(A)|=2^{\\aleph\_0}$(连续统基数)。

**证明**：  
设$A$可数无穷，取一个枚举$A=\\{a\_1,a\_2,a\_3,...\\}$。为求反证，设$\\mathcal{P}(A)$可数，即存在列举  
$$S\_1,S\_2,...$$  
枚举了$A$的全部子集。

构造对角集合  
$$D=\\{a\_n \\in A: a\_n \\notin S\_n\\}$$  
也就是说，对第$n$个子集$S\_n$，我们在第$n$个元素$a\_n$处“翻转归属”。

现在对任意$n$，比较$D$与$S\_n$在元素$a\_n$处的关系：

*   若$a\_n\\in S\_n$，则按定义$a\_n \\notin D$;
*   若$a\_n\\notin S\_n$，则按定义$a\_n\\in D$  
    于是对每个$n$，集合$D$与$S\_n$至少在元素$a\_n$处不同，故$D\\neq S\_n$。这意味着$D$不在我们假定的“完全枚举”序列中，矛盾。

证完！

> 备注：此证明本质上是康托尔（Cantor）的“对角线论证”的子集版本。

#### 1.6.划分

一个非空集合$A$的划分是其幂集$2^A$的满足下列条件的子集$\\Pi$

*   $\\Pi \\neq \\varPhi$
*   $\\forall S,T \\in \\Pi,S\\neq T, S\\cap T=\\varPhi$
*   $\\bigcup\\Pi=A$

一个例子：集合$\\{1,2,3\\}$有五种划分：

*   $\\{\\{1\\},\\{2\\},\\{3\\}\\}$
*   $\\{\\{1,2\\},\\{3\\}\\}$
*   $\\{\\{1,3\\},\\{2\\}\\}$
*   $\\{\\{2,3\\},\\{1\\}\\}$
*   $\\{\\{1,2,3\\}\\}$

**思考题：n元集合A有多少种划分方式？如果集合A是可数集，A的划分方式可数吗？**

结论概要：

*   若 $|A|=n<\\infty$，则 $A$ 的划分（即**集合分划**、set partitions）数目是第 $n$ 个**贝尔数** $B\_n$。
*   若 $A$ **可数无穷**（与 $\\mathbb N$ 等势），则 $A$ 的所有划分的集合**不可数**，其基数恰为 $2^{\\aleph\_0}$（连续统基数）。

下面给出严谨的定义与证明。

有限情形：$|A|=n$ 时的划分个数

**定义（集合分划）**：把 $A$ 划分为若干个两两不交且并为 $A$ 的非空子集族 $\\{B\_1,\\dots,B\_k\\}$（块或类），块的次序不计、块内元素无序。

用第二类斯特林数计数

记 $\\left\\{\\,{n\\atop k}\\,\\right\\}$ 为**第二类斯特林数**：把一个 $n$ 元集合划分为 **恰好 $k$ 个**非空块的方式数。则

$$B\_n=\\sum\_{k=0}^n \\left\\{\\,{n\\atop k}\\,\\right\\}.$$

**递推证明**：对 $n\\ge1$ 与 $1\\le k\\le n$ 有

$$\\left\\{\\,{n\\atop k}\\,\\right\\}=\\left\\{\\,{n-1\\atop k-1}\\,\\right\\}+k\\left\\{\\,{n-1\\atop k}\\,\\right\\},$$

理由：固定元素 $n$。要么它独自成一个新块（于是其余 $n-1$ 个元素需划成 $k-1$ 块）；要么它加入到已有 $k$ 个块中的某一个（于是其余 $n-1$ 个元素先划成 $k$ 块，再为 $n$ 选择其中一个块加入，共 $k$ 倍）。配合边界 $\\left\\{\\,{0\\atop 0}\\,\\right\\}=1,\\ \\left\\{\\,{n\\atop 0}\\,\\right\\}=0 (n\\ge1)$ 即可递推求得 $B\_n$。

还有闭式：

$$\\left\\{\\,{n\\atop k}\\,\\right\\}=\\frac1{k!}\\sum\_{j=0}^k(-1)^j\\binom{k}{j}(k-j)^n,$$

从而 $B\_n=\\sum\\limits\_{k=0}^n \\left\\{\\,{n\\atop k}\\,\\right\\}$ 明确给出了计数。

直接给出贝尔数递推（双射证明）

还可证明

$$B\_{n+1}=\\sum\_{j=0}^{n}\\binom{n}{j}B\_{n-j}=\\sum\_{k=0}^n\\binom{n}{k}B\_k,\\quad B\_0=1.$$

**证明思路**：考虑 $\[n+1\]=\\{1,\\dots,n,n+1\\}$ 的任一分划。看包含元素 $n+1$ 的那个块，去掉 $n+1$ 后记为子集 $S\\subseteq\[n\]$。其余 $n-|S|$ 个元素任意分划，共 $B\_{\\,n-|S|}$ 种。对所有 $S\\subseteq\[n\]$ 求和即得上式。构造是双射的，因此无重计。

> 备注：贝尔数的指数型生成函数为  
> $\\displaystyle \\sum\_{n\\ge0}B\_n\\,\\frac{x^n}{n!}=\\exp\\!\\big(e^x-1\\big)$；  
> 亦有多宾斯基公式 $\\displaystyle B\_n=\\frac1e\\sum\_{m=0}^\\infty \\frac{m^n}{m!}$。

可数无穷情形：$|A|=\\aleph\_0$ 时的划分个数

把分划等同于一个**等价关系**（同块即等价）。记 $\\Pi(A)$ 为 $A$ 上所有分划的集合。

上界：$|\\Pi(A)|\\le 2^{\\aleph\_0}$

因为等价关系是 $A\\times A$ 的子集，而 $A$ 可数 $\\Rightarrow A\\times A$ 亦可数，所以

$$|\\Pi(A)|=\\big|\\{\\text{等价关系}\\}\\big|\\ \\le\\ \\big|\\mathcal P(A\\times A)\\big|\\ =\\ 2^{\\aleph\_0}.$$

下界：$|\\Pi(A)|\\ge 2^{\\aleph\_0}$

构造一个从 $\\mathcal P(A\\setminus\\{a\_0\\})$（去掉固定元素 $a\_0$ 后的幂集）到 $\\Pi(A)$ 的**单射**。取 $A=\\mathbb N$，固定 $0\\in\\mathbb N$。对任意子集 $S\\subseteq \\mathbb N\\setminus\\{0\\}$，定义两块分划

$$\\pi\_S\\ :=\\ \\big\\{\\, \\{0\\}\\cup S,\\ \\ (\\mathbb N\\setminus\\{0\\})\\setminus S \\,\\big\\}.$$

显然 $\\pi\_S$ 是 $\\mathbb N$ 的分划，且由块中含 $0$ 的那一块可以**唯一**恢复 $S=\\big(\\text{含 }0\\text{ 的块}\\big)\\setminus\\{0\\}$。因此 $S\\mapsto \\pi\_S$ 为单射。于是

$$|\\Pi(\\mathbb N)|\\ \\ge\\ \\big|\\mathcal P(\\mathbb N\\setminus\\{0\\})\\big|\\ =\\ 2^{\\aleph\_0}.$$

综合上下界：

$$|\\Pi(A)|\\ =\\ 2^{\\aleph\_0}\\qquad(\\text{当 }|A|=\\aleph\_0).$$

因此，可数集的**分划方式不可数**，其基数与实数集相同。

> 补充：虽然分划的**块数**至多可数（每块至少含一个不同元素），但“所有分划的集合”的规模仍是连续统大，这不矛盾——对象空间很大。

### 2.关系和函数

#### 2.1.有序对

对$(a,b)$是有序对  
$$(a,b)=(c,d)\\Leftrightarrow (a=c)\\land (b=d)$$

#### 2.2.二元关系

笛卡尔积$A\\times B$  
$$A\\times B=\\{(a,b)|a\\in A\\land b\\in B\\}$$  
二元关系  
$$R\\subseteq A\\times B$$

#### 2.3.关系上的操作

*   Inverse  
    $$R\\subseteq A\\times B \\Leftrightarrow R^{-1}\\subseteq B\\times A$$
*   Composition
    *   令$A,B$和$C$都是集合
    *   令$R$是$A$到$B$的关系，$S$是$B$到$C$的关系 $$(R\\subseteq A\\times B)\\land (S\\subseteq B\\times C)$$
    *   因此$R$和$S$通过$R\\circ S$给出了从$A$到$C$的复合映射 $$R\\circ S=\\{(a,c)|\\exists b\\in B,(a,b)\\in R \\text{ and } (b,c)\\in S\\}$$

#### 2.4.定义域和值域

*   关系的定义域是关系的输入集合
*   关系的值域是关系的输出集合

#### 2.5.函数

定义：函数$f:A\\to B$满足：

*   $f\\subseteq A\\times B$
*   $\\forall a$，$\\exists$ exactly one $b\\in B$ with $(a,b)\\in f$

我们记$(a,b)\\in f$为$f(a)=b$

*   单射(One-to-one function) $$\\forall a,b\\in A\\land a\\neq b \\Rightarrow f(a)\\neq f(b)$$
*   满射(Onto function) $$\\forall b\\in B,\\exists a \\in A \\text{ such that } f(a)=b$$
*   双射(One-to-one correspondence):one-to-one+onto

**S.No**

**Injective Function**

**Surjective Function**

**Bijective Function**

1

A function that always maps the distinct element of its domain to the distinct element of its codomain

A function that maps one or more elements of A to the all element of B

A function that is both injective and surjective

2

It is also known as one-to-one function

It is also known as onto function

It is also known as one-to one correspondence

### 3.特殊类型的二元关系

#### 3.1.有向图

对于任何一个集合$A$，关系$R\\subseteq A\\times A$可以被表示为一个有向图

*   A node: represented by a small circle, represent each element of $A$
*   An arrow: is the edge of the graph, drawn from $a$ to $b$ iff $(a,b)\\in R$
*   From a node to another, there is either no edge or one edge.

一个例子：$R=\\{(a,b),(b,a),(a,d),(d,c),(c,c),(c,a)\\}$

flowchart LR %% --- 把节点分两列，固定大致位置 --- subgraph L\[ \] direction TB A((a)) D((d)) end subgraph R\[ \] direction TB B((b)) C((c)) end %% --- 关系边（按题目给出的有序对） --- A --> B B --> A A --> D D --> C C --> C C --> A %% --- 样式（可选） --- classDef node fill:#fff,stroke:#000,color:#000,stroke-width:1.5px; class A,B,C,D node; linkStyle default stroke:#000,stroke-width:1.5px,curve:basis

#### 3.2.矩阵

*   如果$R$是集合$X$和$Y$之间的二元关系，$R\\subseteq X\\times Y$
*   $R$可以被表示为分别用$X$和$Y$表示行和列的逻辑矩阵$M$
*   $M$的元素可以定义为 $$m\_{i,j}=\\begin{cases}1\\quad (x\_i,y\_i)\\in R\\\\ 0\\quad (x\_i,y\_i)\\notin R\\end{cases}$$

#### 3.3.关系的性质

*   Reflexive:$\\forall a \\in A\\Rightarrow (a,a)\\in R$
    *   Consider all $a\\in A$
*   Symmetric: $(a,b)\\in R \\land a\\neq b \\Rightarrow (b,a)\\in R$
    *   Reflexive is alternative
    *   Not necessarily consider all pairs
    *   Represented by undirected graph
*   Antisymmetric:$(a,b)\\in R\\land a\\neq b\\Rightarrow (b,a)\\notin R$
    *   Reflexive is alternative
    *   Consider all pairs $(a,b)$ with $a\\neq b$
*   Transitive:$(a,b)\\in R,(b,c)\\in R\\Rightarrow (a,c)\\in R$
    *   Reflexive is alternative
    *   Not necessaryily consider all pairs

#### 3.4.等价关系

定义:反身性、对称性和传递性。

等价关系$R\\subseteq A\\times A$的无向图表示由若干簇构成，簇内每对元素间以线连接。

**等价类**：$\[a\]=\\{b|(a,b)\\in R\\}$  
簇内的点的集合是一个等价类。

#### 3.5.划分

定理：令$R$是非空集合$A$上的一个等价关系，则$R$的所有等价类构成了$A$的一个划分。

#### 3.6.偏序

定义：给定一个集合$A$，一个$A$的偏序是一个二元关系$\\leq$ 满足以下的性质：

*   反身性：对于任意的$a\\in A$，我们有$a\\leq a$
*   传递性：如果$a\\leq b$以及$b\\leq c$，则$a\\leq c$
*   反对称性：如果$a\\leq b$且$b\\leq a$，则$a=b$

例子：

*   令$A$是实数集。定义$a\\leq b$，如果$b-a$是非负的。那么$\\leq$是$A$上的偏序
*   令$S$是一个集合，$P(S)$表示$S$的所有子集的集合。对$T,T'\\in P(S)$，如果$T'\\subseteq T$，记$T\\leq T'$。这种关系使得$P(S)$成为一个偏序集。

**定义**  
给定一个偏序集 $A$，如果对所有 $b\\in A$ 都有 $a \\le b$，则称元素 $a\\in A$ 是 $A$ 的 **最小元（least element）**。  
如果对所有 $b\\in A$，若 $b \\le a$ 就推出 $a=b$，则称 $a$ 是 $A$ 的 **极小元（minimal element）**。

**定义**  
给定一个偏序集 $A$，如果对所有 $b\\in A$ 都有 $b \\le a$，则称元素 $a\\in A$ 是 $A$ 的 **最大元（greatest element）**。  
如果对所有 $b\\in A$，若 $a \\le b$ 就推出 $a=b$，则称 $a$ 是 $A$ 的 **极大元（maximal element）**。

#### 3.7.全序

**定义**  
设 $(A, \\le)$ 是一个偏序集。如果对 $A$ 中任意一对元素 $a,b$，总有 $a \\le b$ 或 $b \\le a$。  
则称 $\\le$ 是 $A$ 上的**线性序（linear ordering）**，也称**全序（total ordering）**。

偏序（partially ordered）的条件

*   **自反性（reflexive）**：对所有 $a\\in A$，都有 $a \\le a$。
*   **传递性（transitive）**：若 $a \\le b$，且 $b \\le c$，则 $a \\le c$。
*   **反对称性（antisymmetric）**：若 $a \\le b$，且 $b \\le a$，则 $a=b$。