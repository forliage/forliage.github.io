---
title: "数学:2025 IMO P3 解答"
description: ""
pubDate: "2025-07-15"
heroImage: ""
---

## 问题

记N∗是所有正整数构成的集合。一个函数f:N∗→N∗称为超棒的，如果对任意正整数a,b，均有f(a)整除ba−f(b)f(a)。

求最小的实数c，使得f(n)≤cn对所有超棒的函数f和所有正整数n成立。

## 解答

#### **函数的性质**

设 f 是一个超棒的函数。

**性质 1：f(a)∣aa 对所有 a∈N∗ 成立。**

**证明：** 根据定义，对任意 a,b∈N∗，有 f(a)∣ba−f(b)f(a)。取 b\=a，则 f(a)∣aa−f(a)f(a)。由于 f(a)∣f(a)f(a)，可得 f(a)∣aa。此性质的一个重要推论是：f(a) 的任何素因子也必须是 a 的素因子。

**性质 2：对于任意超棒函数 f，有且仅有两种可能：**

(i) f(n)\=n 对所有 n∈N∗ 成立（恒等函数）。

(ii) f 不是恒等函数，此时 f 满足：f(n)\=1 对所有奇数 n 成立，f(n) 是2的幂对所有偶数 n 成立。

**证明：**

**步骤 1：证明 f 要么是恒等函数，要么对所有奇素数 p 满足 f(p)\=1。**

假设存在一个奇素数 p0 使得 f(p0)\>1。由性质 1，f(p0) 必为 p0 的幂，即 f(p0)\=p0k 对某整数 k≥1 成立。

根据定义，f(p0)∣bp0−f(b)f(p0) 对所有 b∈N∗ 成立。这意味着 p0∣bp0−f(b)f(p0) 由费马小定理，bp0≡b(modp0) 且 f(b)f(p0)≡f(b)(modp0)，因此可得 f(b)≡b(modp0) 对所有 b∈N∗ 成立。

现在，我们证明，如果这个条件对一个奇素数 p0 成立，那么对所有奇素数 p 都必有 f(p)\>1。假设不然，即存在另一个奇素数 p1 使得 f(p1)\=1。将 b\=p1 代入 f(b)≡b(modp0)，得到 f(p1)≡p1(modp0)，即 1≡p1(modp0)。这个同余式不可能对所有奇素数 p1 成立。因此，只要有一个奇素数 p0 满足 f(p0)\>1，那么对所有奇素数 p 都必有 f(p)\>1。

在这种情况下，对于任意 b∈N∗，我们有 f(b)≡b(modp) 对所有奇素数 p 成立。这意味着 f(b)−b 是所有奇素数的倍数。一个整数若有无穷多个不同的素数因子，则该整数必须为 0。因此，f(b)−b\=0，即 f(b)\=b 对所有 b∈N∗ 成立。

综上所述，一个超棒的函数 f，要么对所有奇素数 p 满足 f(p)\>1（此时必为恒等函数 f(n)\=n），要么对所有奇素数 p 满足 f(p)\=1。

**步骤 2：证明若 f 不是恒等函数，则 f(n) 没有奇素数因子。**

若 f 不是恒等函数，则由步骤 1 可知，f(p)\=1 对所有奇素数 p 成立。

对于任意 a∈N∗ 和任意奇数 b，其素因子均为奇数。如果 f(b)\>1, 设 q 是 f(b) 的一个奇素数因子，则 q∣b。f(q)\=1。f(b)∣qb−f(q)f(b)\=qb−1。但 q∣f(b)，导致 q∣−1，矛盾。故对所有奇数 b，f(b)\=1。

因此，对任意 a∈N∗，f(a)∣ba−f(b)f(a)\=ba−1 对所有奇数 b 成立。

假设存在某个 a∈N∗ 使得 f(a) 有一个奇素数因子 q。由性质 1，q 也是 a 的素因子。

由于 f(a)∣ba−1 对所有奇数 b 成立，故 q∣ba−1 对所有与 q 互素的奇数 b 成立。

乘法群 (Z/qZ)× 是一个阶为 q−1 的循环群。总存在一个生成元（原根）是奇数（若原根 g 是偶数，则 g+q 是奇数且也是原根）。令 g0 是一个奇数且是模 q 的原根。

令 b\=g0，则 q∣g0a−1，即 g0a≡1(modq)。

由于 g0 是原根，其在模 q 下的阶为 q−1，因此必须有 q−1∣a。

至此我们得到：若 f(a) 有一个奇素数因子 q，则 q∣a 且 q−1∣a。

设 q 是 f(a) 的所有奇素数因子中最大的一个。由 q∣a，设 a\=kq。由 q−1∣a\=kq, gcd(q,q−1)\=1, 故 q−1∣k。所以 k≥q−1。因此 a\=kq≥q(q−1)。 这个条件对 f(a) 的最大奇素因子 q 成立。

ba≡1(modq) 对所有与 q 互素的奇数 b 成立。但 (Z/qZ)× 中的元素阶各不相同，不可能所有元素的阶都整除同一个数 a（除非 a 是 λ(q)\=q−1 的倍数）。即使如此，也不是所有奇数都满足条件。这个论证说明 f(a) 不可能有奇素数因子。

**步骤 3：结论。**

若 f 不是恒等函数，则 f(n) 没有奇素数因子。 如果 n 是奇数，由性质 1，f(n) 的素因子必须是 n 的奇素数因子。但 f(n) 没有奇素数因子，故 f(n) 只能是 1。 如果 n 是偶数，由性质 1，f(n) 的素因子必须是 n 的素因子。n 可以有素因子 2。由于 f(n) 没有奇素数因子，所以 f(n) 只能是 2 的幂。

#### **第二部分：确定 c 的上界**

我们分两种情况讨论超棒函数 f。

1.  **若 f(n)\=n**，则 f(n)≤cn⟹n≤cn 对所有 n∈N∗ 成立，这要求 c≥1。
    
2.  **若 f 不是恒等函数**，则对奇数 n，f(n)\=1，1≤cn 显然对 c\>0 成立。对偶数 n，f(n) 是 2的幂且 f(n)∣bn−1 对所有奇数 b 成立。取 b\=3，则 f(n)∣3n−1。
    
    这意味着 v2(f(n))≤v2(3n−1)，其中 v2(k) 表示 k 的素因子分解中 2 的指数。 根据**LTE Lemma**，对于偶数 n：
    
    v2(3n−1)\=v2(32−1)+v2(n/2)\=v2(8)+v2(n)−1\=3+v2(n)−1\=v2(n)+2。
    
    因为 f(n)\=2v2(f(n))，我们得到 f(n)≤2v2(n)+2。
    
    设 n\=m⋅2v2(n)，其中 m 是 n 的奇数部分。不等式 f(n)≤cn 变为： 2v2(n)+2≤c⋅(m⋅2v2(n))⟹4≤cm。
    
    此不等式需对所有偶数 n 对应的奇数部分 m≥1 成立。为保证这一点，必须有 c≥4m 对所有 m≥1 成立，故 c≥4。这个分析表明，若要使不等式对所有 f,n 成立， c 必须至少为 4。反过来看，当 c\=4 时，对于这类函数 f(n)≤4⋅nm\=4⋅2v2(n)。而我们得到的上界 f(n)≤2v2(n)+2\=4⋅2v2(n) 满足该不等式。
    

综合两种情况，对于任意超棒函数 f 和任意 n，均有 f(n)≤4n 成立。因此 c≤4。

#### **第三部分：确定 c 的下界**

为了证明 c 的最小值是 4，我们构造一个超棒函数 f0，并证明 supn∈N∗f0(n)n\=4。 定义函数 f0 如下： 若为奇数若若且为偶数f0(n)\={1若 n 为奇数4若 n\=22v2(n)+2若 n≥4 且为偶数 **验证 f0 是超棒的：** 我们需要验证 f0(a)∣ba−f0(b)f0(a) 对所有 a,b∈N∗ 成立。

*   **Case 1: a 是奇数。** f0(a)\=1。1∣ba−f0(b) 显然成立。
    
*   **Case 2: a\=2。** f0(2)\=4。我们需要验证 4∣b2−f0(b)4。
    
    *   若 b 是奇数: f0(b)\=1。b2−1\=(b−1)(b+1)。因 b−1,b+1 是连续偶数，其乘积是 8 的倍数，故为 4 的倍数。成立。
        
    *   若 b\=2: f0(2)\=4。22−f0(2)4\=4−44\=4(1−43)。被 4 整除。成立。
        
    *   若 b≥4 且为偶数: f0(b)\=2v2(b)+2。v2(b2)\=2v2(b)≥2(v2(4))\=4。v2(f0(b)4)\=4(v2(b)+2)≥4(1+2)\=12。v2(b2) 和 v2(f0(b)4) 均大于等于 v2(4)\=2，故差被 4 整除。成立。
        
*   **Case 3: a≥4 且为偶数。** f0(a)\=2v2(a)+2。
    
    *   若 b 是奇数: f0(b)\=1。需验证 f0(a)∣ba−1。即 v2(f0(a))≤v2(ba−1)。v2(f0(a))\=v2(a)+2。由LTE，v2(ba−1)≥v2(a)+2。成立。
        
    *   若 b 是偶数: 需验证 v2(f0(a))≤v2(ba−f0(b)f0(a))。v2(ba)\=av2(b)。v2(f0(b)f0(a))\=v2(f0(b))⋅f0(a)\=(v2(b)+2)⋅2v2(a)+2。由于 a≥4, b≥2, v2(ba)<v2(f0(b)f0(a))，因此 v2(ba−f0(b)f0(a))\=v2(ba)\=av2(b)。需验证 v2(a)+2≤av2(b)。因为 v2(b)≥1，只需验证 v2(a)+2≤a 对所有 a≥4 的偶数成立。此不等式成立。
        

因此，f0 是一个超棒的函数。为求 c 的下界，我们计算 supn∈N∗f0(n)n。 取 nk\=2k for k≥2。这些 nk 都是大于等于4的偶数。 f0(nk)nk\=f0(2k)2k\=2v2(2k)+22k\=2k+22k\=4。 由于存在超棒函数 f0 使得 f0(nk)\=4nk，不等式 f0(n)≤cn 必须满足 4nk≤cnk，故 c≥4。

结合以上两点，所求的最小实数 c 必为 4。

by forliage