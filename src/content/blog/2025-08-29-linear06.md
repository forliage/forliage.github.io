---
title: "线性代数06:内积空间"
description: ""
pubDate: "2025-08-29"
heroImage: ""
---

# 线性代数06:内积空间

在本章中，我们将始终采用以下假定：

*   $\\mathbf{F}$ 表示 $\\mathbf{R}$ 或 $\\mathbf{C}$。
*   $V$ 表示 $\\mathbf{F}$ 上的有限维非零向量空间。

### **6.A 内积与范数**

#### **内积**

我们从 $\\mathbf{R}^n$ 中熟悉的点积概念开始。对于 $x = (x\_1, \\ldots, x\_n)$ 和 $y = (y\_1, \\ldots, y\_n)$，它们的点积定义为 $x \\cdot y = x\_1y\_1 + \\cdots + x\_ny\_n$。向量 $x$ 的长度（范数）$|x|$ 可以通过点积定义为 $|x| = \\sqrt{x \\cdot x}$。

当我们把这个概念推广到复向量空间 $\\mathbf{C}^n$ 时，会遇到一个问题。如果我们简单地定义 $|z|^2 = z\_1^2 + \\cdots + z\_n^2$，那么对于 $z=(1, i)$，我们得到 $|z|^2 = 1^2 + i^2 = 1 - 1 = 0$，但 $z$ 并不是零向量。这不符合我们对长度的直观要求（只有零向量的长度才是零）。

为了解决这个问题，我们需要引入复共轭。对于 $z \\in \\mathbf{C}$，我们知道 $|z|^2 = z\\bar{z}$ 是非负的。因此，在 $\\mathbf{C}^n$ 中，我们应该定义 $|z|^2 = |z\_1|^2 + \\cdots + |z\_n|^2 = z\_1\\bar{z\_1} + \\cdots + z\_n\\bar{z\_n}$。这就启发我们将 $\\mathbf{C}^n$ 中的内积定义为 $\\langle w, z \\rangle = w\_1\\bar{z\_1} + \\cdots + w\_n\\bar{z\_n}$。注意，交换 $w$ 和 $z$ 的位置，结果会变为原来的共轭。

基于这些观察，我们给出内积的一般定义。

**定义 6.3：内积 (inner product)** $V$ 上的一个**内积**是一个函数，它将 $V$ 中的每对有序向量 $(u,v)$ 都映成一个数 $\\langle u,v \\rangle \\in \\mathbf{F}$，并且满足以下性质：

1.  **正性 (positivity):** 对所有 $v \\in V$ 都有 $\\langle v,v \\rangle \\ge 0$。
2.  **定性 (definiteness):** $\\langle v,v \\rangle = 0$ 当且仅当 $v=0$。
3.  **第一个位置的加性 (additivity in first slot):** 对所有 $u,v,w \\in V$ 都有 $\\langle u+v, w \\rangle = \\langle u,w \\rangle + \\langle v,w \\rangle$。
4.  **第一个位置的齐性 (homogeneity in first slot):** 对所有 $\\lambda \\in \\mathbf{F}$ 和 $u,v \\in V$ 都有 $\\langle \\lambda u, v \\rangle = \\lambda \\langle u,v \\rangle$。
5.  **共轭对称性 (conjugate symmetry):** 对所有 $u,v \\in V$ 都有 $\\langle u,v \\rangle = \\overline{\\langle v,u \\rangle}$。

**定义 6.5：内积空间 (inner product space)** 一个**内积空间**是带有一个内积的向量空间。

**例子 6.4：内积的例子** (a) **欧几里得内积 (Euclidean inner product):** 在 $\\mathbf{F}^n$ 上，对 $w=(w\_1, \\ldots, w\_n)$ 和 $z=(z\_1, \\ldots, z\_n)$，定义 $$ \\langle w, z \\rangle = w\_1\\bar{z\_1} + \\cdots + w\_n\\bar{z\_n} $$ 这是最常见的内积。 (c) 在 $\[-1, 1\]$ 上的实值连续函数空间 $C(\[-1,1\], \\mathbf{R})$ 上，可以定义内积 $$ \\langle f, g \\rangle = \\int\_{-1}^1 f(x)g(x)dx $$

**内积的基本性质**

从定义出发，我们可以推导出一些有用的性质。例如，内积在第二个位置是“共轭线性”的。 对于 $u,v,w \\in V$: $\\langle u, v+w \\rangle = \\overline{\\langle v+w, u \\rangle} = \\overline{\\langle v,u \\rangle + \\langle w,u \\rangle} = \\overline{\\langle v,u \\rangle} + \\overline{\\langle w,u \\rangle} = \\langle u,v \\rangle + \\langle u,w \\rangle$。 对于 $\\lambda \\in \\mathbf{F}$: $\\langle u, \\lambda v \\rangle = \\overline{\\langle \\lambda v, u \\rangle} = \\overline{\\lambda \\langle v,u \\rangle} = \\bar{\\lambda} \\overline{\\langle v,u \\rangle} = \\bar{\\lambda} \\langle u,v \\rangle$。

#### **范数**

有了内积，我们就可以自然地定义向量的长度。

**定义 6.8：范数 (norm)** 设 $v \\in V$，它的**范数**，记为 $|v|$，定义为 $$ |v| = \\sqrt{\\langle v,v \\rangle} $$

**例子 6.9：范数的例子** 在 $\\mathbf{F}^n$ 上使用欧几里得内积，向量 $z=(z\_1, \\ldots, z\_n)$ 的范数是 $$ |z| = \\sqrt{|z\_1|^2 + \\cdots + |z\_n|^2} $$

**命题 6.10：范数的基本性质** 设 $v \\in V, \\lambda \\in \\mathbf{F}$。 (a) $|v|=0$ 当且仅当 $v=0$。 (b) $|\\lambda v| = |\\lambda| |v|$。

**证明：** (a) $|v|=0 \\iff \\sqrt{\\langle v,v \\rangle} = 0 \\iff \\langle v,v \\rangle = 0$。根据内积的定性，这当且仅当 $v=0$。 (b) $|\\lambda v|^2 = \\langle \\lambda v, \\lambda v \\rangle = \\lambda \\langle v, \\lambda v \\rangle = \\lambda \\bar{\\lambda} \\langle v, v \\rangle = |\\lambda|^2 |v|^2$。两边开方即得证。

#### **正交**

**定义 6.11：正交 (orthogonal)** 称两个向量 $u,v \\in V$ 是**正交的**，如果 $\\langle u,v \\rangle = 0$。

**命题 6.13：勾股定理 (Pythagorean Theorem)** 设 $u,v \\in V$ 是正交的。则 $$ |u+v|^2 = |u|^2 + |v|^2 $$

**证明：** $$ \\begin{aligned} |u+v|^2 &= \\langle u+v, u+v \\rangle \\\\ &= \\langle u,u \\rangle + \\langle v,u \\rangle + \\langle u,v \\rangle + \\langle v,v \\rangle \\\\ &= |u|^2 + \\langle v,u \\rangle + \\langle u,v \\rangle + |v|^2 \\end{aligned} $$ 因为 $u,v$ 正交，所以 $\\langle u,v \\rangle = 0$。根据共轭对称性，$\\langle v,u \\rangle = \\overline{\\langle u,v \\rangle} = \\overline{0} = 0$。 因此，$|u+v|^2 = |u|^2 + |v|^2$。证毕。

现在我们来证明内积空间中最重要的不等式之一。

**命题 6.15：柯西-施瓦茨不等式 (Cauchy-Schwarz Inequality)** 对所有 $u,v \\in V$，都有 $$ |\\langle u,v \\rangle| \\le |u| |v| $$ 等号成立当且仅当 $u,v$ 之一是另一个的标量倍。

**证明：** 若 $v=0$，则两边都为0，不等式成立。 假设 $v \\neq 0$。对任意 $\\lambda \\in \\mathbf{F}$，我们有 $$ \\begin{aligned} 0 &\\le |u - \\lambda v|^2 \\\\ &= \\langle u - \\lambda v, u - \\lambda v \\rangle \\\\ &= \\langle u, u \\rangle - \\lambda \\langle v, u \\rangle - \\bar{\\lambda} \\langle u, v \\rangle + \\lambda \\bar{\\lambda} \\langle v, v \\rangle \\\\ &= |u|^2 - \\lambda \\overline{\\langle u, v \\rangle} - \\bar{\\lambda} \\langle u, v \\rangle + |\\lambda|^2 |v|^2 \\end{aligned} $$ 这是一个关键的不等式。我们现在取一个特殊的 $\\lambda$ 值来简化它。令 $$ \\lambda = \\frac{\\langle u, v \\rangle}{|v|^2} $$ 代入不等式，得到： $$ \\begin{aligned} 0 &\\le |u|^2 - \\frac{\\langle u, v \\rangle}{|v|^2} \\overline{\\langle u, v \\rangle} - \\frac{\\overline{\\langle u, v \\rangle}}{|v|^2} \\langle u, v \\rangle + \\frac{|\\langle u, v \\rangle|^2}{|v|^4} |v|^2 \\\\ &= |u|^2 - \\frac{|\\langle u, v \\rangle|^2}{|v|^2} - \\frac{|\\langle u, v \\rangle|^2}{|v|^2} + \\frac{|\\langle u, v \\rangle|^2}{|v|^2} \\\\ &= |u|^2 - \\frac{|\\langle u, v \\rangle|^2}{|v|^2} \\end{aligned} $$ 移项并乘以 $|v|^2$ (非负)，得到 $|\\langle u, v \\rangle|^2 \\le |u|^2 |v|^2$。两边开方即得柯西-施瓦茨不等式。 等号成立的条件是 $|u - \\lambda v|^2 = 0$，即 $u = \\lambda v$，说明 $u$ 是 $v$ 的标量倍。证毕。

**命题 6.18：三角不等式 (Triangle Inequality)** 对所有 $u,v \\in V$，都有 $$ |u+v| \\le |u| + |v| $$

**证明：** $$ \\begin{aligned} |u+v|^2 &= \\langle u+v, u+v \\rangle \\\\ &= |u|^2 + \\langle v,u \\rangle + \\langle u,v \\rangle + |v|^2 \\\\ &= |u|^2 + 2\\text{Re}(\\langle u,v \\rangle) + |v|^2 \\\\ &\\le |u|^2 + 2|\\langle u,v \\rangle| + |v|^2 \\quad (\\text{因为 } \\text{Re}(z) \\le |z|) \\\\ &\\le |u|^2 + 2|u||v| + |v|^2 \\quad (\\text{柯西-施瓦茨不等式}) \\\\ &= (|u| + |v|)^2 \\end{aligned} $$ 两边开方即得证。

**命题 6.22：平行四边形恒等式 (Parallelogram Equality)** 对所有 $u,v \\in V$，都有 $$ |u+v|^2 + |u-v|^2 = 2(|u|^2 + |v|^2) $$

**证明：** $$ \\begin{aligned} |u+v|^2 + |u-v|^2 &= \\langle u+v, u+v \\rangle + \\langle u-v, u-v \\rangle \\\\ &= (|u|^2 + \\langle v,u \\rangle + \\langle u,v \\rangle + |v|^2) + (|u|^2 - \\langle v,u \\rangle - \\langle u,v \\rangle + |v|^2) \\\\ &= 2(|u|^2 + |v|^2) \\end{aligned} $$ 证毕。

### **6.B 规范正交基**

#### **规范正交组与规范正交基**

**定义 6.23：规范正交 (orthonormal)** $V$ 中的一个向量组 $(e\_1, \\ldots, e\_m)$ 称为**规范正交的**，如果 $$ \\langle e\_j, e\_k \\rangle = \\delta\_{jk} = \\begin{cases} 1 & \\text{若 } j=k \\\\ 0 & \\text{若 } j \\neq k \\end{cases} $$ 即组中每个向量的范数都是1，且任意两个不同的向量都正交。

**例子 6.24：规范正交组** $\\mathbf{F}^n$ 中的标准基是规范正交的。

**命题 6.25：规范正交组中范数的计算** 若 $(e\_1, \\ldots, e\_m)$ 是 $V$ 中的一个规范正交组，则对任意 $a\_1, \\ldots, a\_m \\in \\mathbf{F}$，都有 $$ |a\_1 e\_1 + \\cdots + a\_m e\_m|^2 = |a\_1|^2 + \\cdots + |a\_m|^2 $$

**证明：** 这是勾股定理的推广。 $$ \\begin{aligned} |a\_1 e\_1 + \\cdots + a\_m e\_m|^2 &= \\left\\langle \\sum\_{j=1}^m a\_j e\_j, \\sum\_{k=1}^m a\_k e\_k \\right\\rangle \\\\ &= \\sum\_{j=1}^m \\sum\_{k=1}^m \\langle a\_j e\_j, a\_k e\_k \\rangle \\\\ &= \\sum\_{j=1}^m \\sum\_{k=1}^m a\_j \\overline{a\_k} \\langle e\_j, e\_k \\rangle \\\\ &= \\sum\_{j=1}^m a\_j \\overline{a\_j} \\langle e\_j, e\_j \\rangle \\quad (\\text{因为当 } j \\neq k \\text{ 时，} \\langle e\_j, e\_k \\rangle = 0) \\\\ &= \\sum\_{j=1}^m |a\_j|^2 \\end{aligned} $$ 证毕。

**推论 6.26：规范正交组是线性无关的** 任何规范正交组都是线性无关的。 **证明：** 设 $(e\_1, \\ldots, e\_m)$ 是规范正交组，且 $a\_1 e\_1 + \\cdots + a\_m e\_m = 0$。 根据命题 6.25，有 $|a\_1|^2 + \\cdots + |a\_m|^2 = |0|^2 = 0$。 这意味着每个 $|a\_j|^2$ 都必须是0，所以每个 $a\_j$ 都必须是0。因此该组是线性无关的。

**定义 6.27：规范正交基 (orthonormal basis)** $V$ 的一个**规范正交基**是由规范正交向量构成的基。

**命题 6.30：用规范正交基写向量** 设 $(e\_1, \\ldots, e\_n)$ 是 $V$ 的一个规范正交基。则对任意 $v \\in V$，都有 $$ v = \\langle v, e\_1 \\rangle e\_1 + \\cdots + \\langle v, e\_n \\rangle e\_n $$ 且 $$ |v|^2 = |\\langle v, e\_1 \\rangle|^2 + \\cdots + |\\langle v, e\_n \\rangle|^2 $$

**证明：** 因为 $(e\_1, \\ldots, e\_n)$ 是基，所以存在标量 $a\_1, \\ldots, a\_n$ 使得 $v = a\_1 e\_1 + \\cdots + a\_n e\_n$。 对任意 $j=1, \\ldots, n$，我们计算内积： $$ \\langle v, e\_j \\rangle = \\langle a\_1 e\_1 + \\cdots + a\_n e\_n, e\_j \\rangle = a\_j \\langle e\_j, e\_j \\rangle = a\_j $$ 所以系数 $a\_j$ 就是 $\\langle v, e\_j \\rangle$。第一个等式得证。 第二个等式直接由命题 6.25 和第一个等式得到。证毕。

#### **格拉姆-施密特过程**

我们已经看到规范正交基非常好用，但它们是否存在呢？答案是肯定的，我们可以通过一个称为**格拉姆-施密特 (Gram-Schmidt)** 的过程，从任意一个基构造出一个规范正交基。

**命题 6.31：格拉姆-施密特过程** 设 $(v\_1, \\ldots, v\_m)$ 是 $V$ 中的一个线性无关组。定义向量组 $(e\_1, \\ldots, e\_m)$ 如下： 令 $e\_1 = v\_1 / |v\_1|$。 对 $j=2, \\ldots, m$，令 $$ e\_j = \\frac{v\_j - \\langle v\_j, e\_1 \\rangle e\_1 - \\cdots - \\langle v\_j, e\_{j-1} \\rangle e\_{j-1}}{|v\_j - \\langle v\_j, e\_1 \\rangle e\_1 - \\cdots - \\langle v\_j, e\_{j-1} \\rangle e\_{j-1}|} $$ 则 $(e\_1, \\ldots, e\_m)$ 是一个规范正交组，并且对每个 $j=1, \\ldots, m$ 都有 $\\text{span}(v\_1, \\ldots, v\_j) = \\text{span}(e\_1, \\ldots, e\_j)$。

**证明：** 我们用数学归纳法证明 $(e\_1, \\ldots, e\_m)$ 是规范正交的且张成空间不变。 **基础情形：** $j=1$。$e\_1$ 是 $v\_1$ 的正标量倍，所以 $|e\_1|=1$ 且 $\\text{span}(v\_1) = \\text{span}(e\_1)$。 **归纳假设：** 假设对 $j-1$ 结论成立，即 $(e\_1, \\ldots, e\_{j-1})$ 是规范正交的且 $\\text{span}(v\_1, \\ldots, v\_{j-1}) = \\text{span}(e\_1, \\ldots, e\_{j-1})$。 令 $u\_j = v\_j - \\sum\_{k=1}^{j-1} \\langle v\_j, e\_k \\rangle e\_k$。分母不为0因为 $v\_j \\notin \\text{span}(v\_1, \\ldots, v\_{j-1}) = \\text{span}(e\_1, \\ldots, e\_{j-1})$。 $e\_j$ 的定义使其范数为1。 对任意 $i < j$，我们计算内积： $$ \\begin{aligned} \\langle u\_j, e\_i \\rangle &= \\left\\langle v\_j - \\sum\_{k=1}^{j-1} \\langle v\_j, e\_k \\rangle e\_k, e\_i \\right\\rangle \\\\ &= \\langle v\_j, e\_i \\rangle - \\sum\_{k=1}^{j-1} \\langle v\_j, e\_k \\rangle \\langle e\_k, e\_i \\rangle \\\\ &= \\langle v\_j, e\_i \\rangle - \\langle v\_j, e\_i \\rangle \\langle e\_i, e\_i \\rangle \\quad (\\text{因为 } e\_k \\text{ 规范正交})\\\\ &= \\langle v\_j, e\_i \\rangle - \\langle v\_j, e\_i \\rangle = 0 \\end{aligned} $$ 所以 $u\_j$ 与所有的 $e\_1, \\ldots, e\_{j-1}$ 正交。因此 $e\_j = u\_j/|u\_j|$ 也与它们正交。 所以 $(e\_1, \\ldots, e\_j)$ 是规范正交的。 从 $e\_j$ 的定义可以看出，$v\_j \\in \\text{span}(e\_1, \\ldots, e\_j)$，反之 $e\_j \\in \\text{span}(v\_1, \\ldots, v\_{j-1}, v\_j) = \\text{span}(e\_1, \\ldots, e\_{j-1}, v\_j)$。 所以 $\\text{span}(v\_1, \\ldots, v\_j) = \\text{span}(e\_1, \\ldots, e\_j)$。 归纳完成。证毕。

**推论 6.34：每个有限维内积空间都有规范正交基** 这直接由格拉姆-施密特过程得出：先为空间找一个任意的基，然后对其应用该过程。

### **6.C 正交补与极小化问题**

#### **正交补**

**定义 6.45：正交补 (orthogonal complement)** 设 $U$ 是 $V$ 的子集。$U$ 的**正交补**，记为 $U^\\perp$，是 $V$ 中与 $U$ 中每个向量都正交的向量的集合： $$ U^\\perp = {v \\in V : \\langle v,u \\rangle=0 \\text{ for all } u \\in U} $$

**命题 6.46：正交补的基本性质** (a) $U^\\perp$ 是 $V$ 的一个子空间。 (b) ${0}^\\perp = V$。 (c) $V^\\perp = {0}$。 (d) $U \\cap U^\\perp \\subseteq {0}$。 (e) 若 $U \\subseteq W$，则 $W^\\perp \\subseteq U^\\perp$。

**证明 (a)：**

1.  $\\langle 0, u \\rangle = 0$ for all $u \\in U$，所以 $0 \\in U^\\perp$。
2.  若 $v,w \\in U^\\perp$，则 $\\langle v+w, u \\rangle = \\langle v,u \\rangle + \\langle w,u \\rangle = 0+0=0$ for all $u \\in U$。所以 $v+w \\in U^\\perp$。
3.  若 $v \\in U^\\perp, \\lambda \\in \\mathbf{F}$，则 $\\langle \\lambda v, u \\rangle = \\lambda \\langle v,u \\rangle = \\lambda \\cdot 0=0$ for all $u \\in U$。所以 $\\lambda v \\in U^\\perp$。 因此 $U^\\perp$ 是一个子空间。

**定理 6.47：子空间与其正交补的直和** 设 $U$ 是 $V$ 的一个有限维子空间。则 $$ V = U \\oplus U^\\perp $$

**证明：** 我们要证明 $V = U+U^\\perp$ 且 $U \\cap U^\\perp = {0}$。 后者由命题6.46(d)直接得到。 现在证明前者。任取 $v \\in V$。设 $(e\_1, \\ldots, e\_m)$ 是 $U$ 的一个规范正交基。 令 $u = \\langle v, e\_1 \\rangle e\_1 + \\cdots + \\langle v, e\_m \\rangle e\_m$。显然 $u \\in U$。 令 $w = v - u$。我们要证明 $w \\in U^\\perp$。 对任意 $j=1, \\ldots, m$， $$ \\begin{aligned} \\langle w, e\_j \\rangle &= \\langle v-u, e\_j \\rangle = \\langle v, e\_j \\rangle - \\langle u, e\_j \\rangle \\\\ &= \\langle v, e\_j \\rangle - \\left\\langle \\sum\_{k=1}^m \\langle v, e\_k \\rangle e\_k, e\_j \\right\\rangle \\\\ &= \\langle v, e\_j \\rangle - \\langle v, e\_j \\rangle \\langle e\_j, e\_j \\rangle = \\langle v, e\_j \\rangle - \\langle v, e\_j \\rangle = 0 \\end{aligned} $$ 所以 $w$ 与 $U$ 的所有基向量正交，因此与 $U$ 中所有向量都正交。即 $w \\in U^\\perp$。 我们已经将 $v$ 写成了 $v=u+w$，其中 $u \\in U, w \\in U^\\perp$。 所以 $V = U + U^\\perp$。证毕。

#### **极小化问题**

内积空间的一个重要应用是找到一个向量到一个子空间的“最佳近似”，即距离最近的点。

**定义 6.53：正交投影 (orthogonal projection)** 设 $U$ 是 $V$ 的有限维子空间。$V$ 到 $U$ 上的**正交投影** $P\_U \\in \\mathcal{L}(V)$ 定义为： 对 $v \\in V$，将其分解为 $v = u+w$（其中 $u \\in U, w \\in U^\\perp$），则 $P\_U v = u$。

**定理 6.56：到子空间的最短距离** 设 $U$ 是 $V$ 的有限维子空间，$v \\in V$。则 $$ |v - P\_U v| \\le |v - u| $$ 对所有 $u \\in U$ 都成立。等号成立当且仅当 $u = P\_U v$。

**证明：** 设 $u \\in U$。我们有 $$ \\begin{aligned} |v-u|^2 &= | (v - P\_U v) + (P\_U v - u) |^2 \\\\ &= |v - P\_U v|^2 + |P\_U v - u|^2 \\quad (\\text{勾股定理}) \\end{aligned} $$ 这里可以使用勾股定理是因为 $v - P\_U v \\in U^\\perp$ 且 $P\_U v - u \\in U$。 因为 $|P\_U v - u|^2 \\ge 0$，所以 $|v - u|^2 \\ge |v - P\_U v|^2$。 等号成立当且仅当 $|P\_U v - u|^2 = 0$，即 $u = P\_U v$。证毕。

**第六讲小结**

今天我们为抽象的向量空间赋予了丰富的几何结构。

1.  我们引入了**内积**的概念，它推广了点积，并满足正性、定性、第一个位置的线性和共轭对称性。
2.  基于内积，我们定义了**范数**（长度）和**正交**（垂直），并证明了包括柯西-施瓦茨不等式、三角不等式和勾股定理在内的一系列重要几何性质。
3.  我们学习了**规范正交基**的优越性，并掌握了通过**格拉姆-施密特过程**将任意基转换为规范正交基的方法。这保证了任何有限维内积空间都存在规范正交基。
4.  最后，我们研究了**正交补**，证明了任何子空间都可以和其正交补直和分解整个空间，并利用**正交投影**解决了向量到子空间的最近点（最佳近似）问题。